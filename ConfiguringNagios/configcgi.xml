<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd"
[
  <!ENTITY % all.entities SYSTEM "../all-entities.ent">
  %all.entities;
]
>
<chapter id="configuringnagios-configcgi" xreflabel="CGI Configuration File Options">
	<title>CGI Configuration File Options</title>
		<note>
		<para>When creating and/or editing configuration files, keep the following in mind:</para>
		<itemizedlist>
			<listitem>
				<para>Lines that start with a '#' character are taken to be comments
				and are not processed</para>
			</listitem>
			<listitem>
				<para>Variables names must begin at the start of the line - no white
				space is allowed before the name</para>
			</listitem>
			<listitem>
				<para>Variable names are case-sensitive</para>
			</listitem>
		</itemizedlist>
		</note>
		<section>
		<title>Sample Configuration</title>
		<tip><para>A sample CGI configuration file (<filename>/usr/local/nagios/etc/cgi.cfg</filename>) is
		installed for you when you follow the <link linkend="gettingstarted-quickstart">quickstart installation guide</link>.
		</para></tip>
	</section>
	<section>
		<title>Config File Location</title>
		<para>By default, Nagios expects the CGI configuration file to be named <filename>cgi.cfg</filename>
		and located in the config file directory along with the 
		<link linkend="configuringnagios-configmain">main config file</link>. If you need to change
		the name of the file or its location, you can configure Apache to pass an environment variable
		named <varname>NAGIOS_CGI_CONFIG</varname> (which points to the correct location) to the 
		CGIs. See the Apache documentation for information on how to do this.</para>
	</section>
	<section>
		<title>Configuration File Variables</title>
		<para>Below you will find descriptions of each main Nagios configuration file option...</para>
		<section>
			<title>
			<anchor id="configuringnagios-configcgi-main_cfg_file"/>Main Configuration File Location</title>
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>main_config_file=&lt;file_name&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>main_config_file=/usr/local/nagios/etc/nagios.cfg</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This specifies the location of your <link linkend="configuringnagios-configmain">main configuration file</link>. 
			The CGIs need to know where to find this file in order to get information about configuration information, current
			host and service status, etc.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-physical_html_path"/>Physical HTML Path</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>physical_html_path=&lt;path&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>physical_html_path=/usr/local/nagios/share</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This is the physical path where the HTML files for Nagios are kept on your workstation or server. 
			Nagios assumes that the documentation and images files (used by the CGIs) are stored in subdirectories 
			called <filename class="directory">docs/</filename> and <filename class="directory">images/</filename>, respectively.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-url_html_path"/>URL HTML Path</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>url_html_path=&lt;path&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>url_html_path=/nagios</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>If, when accessing Nagios via a web browser, you point to an URL like 
			<uri>http://www.myhost.com/nagios</uri>, this value should be /nagios. Basically, its 
			the path portion of the URL that is used to access the Nagios HTML pages.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-use_authentication"/>Authentication Usage</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>use_authentication=&lt;0/1&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>use_authentication=1</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option controls whether or not the CGIs will use the authentication and authorization
			functionality when determining what information and commands users have access to. I would
			strongly suggest that you use the authentication functionality for the CGIs. If you decide
			not to use authentication, make sure to remove the 
			<link linkend="thebasics-cgis-cmd_cgi">command CGI</link> to prevent unauthorized users
			from issuing commands to Nagios. The CGI will not issue commands to Nagios if authentication
			is disabled, but I would suggest removing it altogether just to be on the safe side.
			More information on how to setup authentication and configure authorization for the CGIs can be found 
			<link linkend="configuringnagios-cgiauth">here</link>.</para>
			<itemizedlist>
				<listitem>
					<para>0 = Don't use authentication functionality</para>
				</listitem>
				<listitem>
					<para>1 = Use authentication and authorization functionality (default)</para>
				</listitem>
			</itemizedlist>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-default_user_name"/>Default User Name</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>default_user_name=&lt;username&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>default_user_name=guest</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>Setting this variable will define a default username that can access the CGIs. This allows
			people within a secure domain (i.e., behind a firewall) to access the CGIs without necessarily
			having to authenticate to the web server. You may want to use this to avoid having to use basic
			authentication if you are not using a secure server, as basic authentication transmits
			passwords in clear text over the Internet.</para>
			<important><para>Do not define a default username unless you are running a secure web
			server and are sure that everyone who has access to the CGIs has been authenticated
			in some manner! If you define this variable, anyone who has not authenticated to
			the web server will inherit all rights you assign to this user!</para></important>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-authorized_for_system_information"/>System/Process Information Access</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>authorized_for_system_information=&lt;user1&gt;,&lt;user2&gt;,...&lt;usern&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>authorized_for_system_information=nagiosadmin,theboss</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This is a comma-delimited list of names of authenticated users who can view system/process 
			information in the <link linkend="thebasics-cgis-extinfo_cgi">extended information CGI</link>.
			Users in this list are not automatically authorized to issue system/process commands. If you
			want users to be able to issue system/process commands as well, you must add them to the 
			<link linkend="configuringnagios-configcgi-authorized_for_system_commands">authorized_for_system_commands</link>
			variable. More information on how to setup authentication and configure authorization for the CGIs
			can be found <link linkend="configuringnagios-cgiauth">here</link>.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-authorized_for_system_commands"/>System/Process Command Access</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>authorized_for_system_commands=&lt;user1&gt;,&lt;user2&gt;,...&lt;usern&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>authorized_for_system_commands=nagiosadmin</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This is a comma-delimited list of names of authenticated users who can issue system/process
			commands via the <link linkend="thebasics-cgis-cmd_cgi">command CGI</link>. Users in this list
			are not automatically authorized to view system/process information. If you want users to be
			able to view system/process information as well, you must add them to the
			<link linkend="configuringnagios-configcgi-authorized_for_system_information">authorized_for_system_information</link>
			variable. More information on how to setup authentication and configure authorization for
			the CGIs can be found <link linkend="configuringnagios-cgiauth">here</link>.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-authorized_for_configuration_information"/>Configuration Information Access</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>authorized_for_configuration_information=&lt;user1&gt;,&lt;user2&gt;,...&lt;usern&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>authorized_for_configuration_information=nagiosadmin</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This is a comma-delimited list of names of authenticated users who can view configuration
			information in the <link linkend="thebasics-cgis-config_cgi">configuration CGI</link>.
			Users in this list can view information on all configured hosts, host groups, services,
			contacts, contact groups, time periods, and commands. More information on how to setup
			authentication and configure authorization for the CGIs can be found
			<link linkend="configuringnagios-cgiauth">here</link>.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-authorized_for_all_hosts"/>Global Host Information Access</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>authorized_for_all_hosts=&lt;user1&gt;,&lt;user2&gt;,...&lt;usern&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>authorized_for_all_hosts=nagiosadmin,theboss</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This is a comma-delimited list of names of authenticated users who can view status and
			configuration information for all hosts. Users in this list are also automatically authorized
			to view information for all services. Users in this list are not automatically authorized to
			issue commands for all hosts or services. If you want users able to issue commands for all
			hosts and services as well, you must add them to the
			<link linkend="configuringnagios-configcgi-authorized_for_all_host_commands">authorized_for_all_host_commands</link>
			variable. More information on how to setup authentication and configure authorization for the CGIs can be found
			<link linkend="configuringnagios-cgiauth">here</link>.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-authorized_for_all_host_commands"/>Global Host Command Access</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>authorized_for_all_host_commands=&lt;user1&gt;,&lt;user2&gt;,...&lt;usern&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>authorized_for_all_host_commands=nagiosadmin</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This is a comma-delimited list of names of authenticated users who can issue commands for
			all hosts via the <link linkend="thebasics-cgis-cmd_cgi">command CGI</link>. Users in this
			list are also automatically authorized to issue commands for all services. Users in this
			list are not automatically authorized to view status or configuration information for all
			hosts or services. If you want users able to view status and configuration information for
			all hosts and services as well, you must add them to the
			<link linkend="configuringnagios-configcgi-authorized_for_all_hosts">authorized_for_all_hosts</link>
			variable. More information on how to setup authentication and configure authorization for
			the CGIs can be found <link linkend="configuringnagios-cgiauth">here</link>.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-authorized_for_all_services"/>Global Service Information Access</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>authorized_for_all_services=&lt;user1&gt;,&lt;user2&gt;,...&lt;usern&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>authorized_for_all_services=nagiosadmin,theboss</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This is a comma-delimited list of names of authenticated users who can view status
			and configuration information for all services. Users in this list are not automatically
			authorized to view information for all hosts. Users in this list are not automatically
			authorized to issue commands for all services. If you want users able to issue commands
			for all services as well, you must add them to the
			<link linkend="configuringnagios-configcgi-authorized_for_all_service_commands">authorized_for_all_service_commands</link>
			variable. More information on how to setup authentication and configure authorization for
			the CGIs can be found <link linkend="configuringnagios-cgiauth">here</link>.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-authorized_for_all_service_commands"/>Global Service Command Access</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>authorized_for_all_service_commands=&lt;user1&gt;,&lt;user2&gt;,&lt;user3&gt;,...&lt;usern&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>authorized_for_all_service_commands=nagiosadmin</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This is a comma-delimited list of names of authenticated users who can issue commands for all
			services via the <link linkend="thebasics-cgis-cmd_cgi">command CGI</link>. Users in this list are
			not automatically authorized to issue commands for all hosts. Users in this list are not
			automatically authorized to view status or configuration information for all hosts. If you want
			users able to view status and configuration information for all services as well, you must add
			them to the <link linkend="configuringnagios-configcgi-authorized_for_all_services">authorized_for_all_services</link>
			variable. More information on how to setup authentication and configure authorization for the
			CGIs can be found <link linkend="configuringnagios-cgiauth">here</link>.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-lock_author_names"/>Lock Author Names</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>lock_author_names=[0/1]</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>lock_author_names=1</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option allows you to restrict users from changing the author name when submitting
			comments, acknowledgements, and scheduled downtime from the web interface. If this option is
			enabled, users will be unable to change the author name associated with the command request.</para>
			<itemizedlist>
				<listitem>
					<para>0 = Allow users to change author names when submitting commands</para>
				</listitem>
				<listitem>
					<para>1 = Prevent users from changing author names (default)</para>
				</listitem>
			</itemizedlist>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-statusmap_background_image"/>Statusmap CGI Background Image</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>statusmap_background_image=&lt;image_file&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>statusmap_background_image=smbackground.gd2</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option allows you to specify an image to be used as a background in the
			<link linkend="thebasics-cgis-statusmap_cgi">statusmap CGI</link> if you use the
			user-supplied coordinates layout method. The background image is not be available
			in any other layout methods. It is assumed that the image resides in the HTML images
			path (i.e. <filename class="directory">/usr/local/nagios/share/images</filename>).
			This path is automatically determined by appending <quote>/images</quote> to the
			path specified by the <link linkend="configuringnagios-configcgi-physical_html_path">physical_html_path</link>
			directive.</para>
			<note><para>The image file can be in GIF, JPEG, PNG, or GD2 format. However, GD2
			format (preferably in uncompressed format) is recommended, as it will reduce the
			CPU load when the CGI generates the map image.</para></note>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-default_statusmap_layout"/>Default Statusmap Layout Method</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>default_statusmap_layout=&lt;layout_number&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>default_statusmap_layout=4</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option allows you to specify the default layout method used by the
			<link linkend="thebasics-cgis-statusmap_cgi">statusmap CGI</link>. Valid options
			are:</para>
			<informaltable frame="all">
				<tgroup cols="2">
					<thead>
						<row>
							<entry>
								<para>&lt;layout_number&gt; Value</para>
							</entry>
							<entry>
								<para>Layout Method</para>
							</entry>
						</row>
					</thead>
					<tbody>
						<row>
							<entry>
								<para>0</para>
							</entry>
							<entry>
								<para>User-defined coordinates</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>1</para>
							</entry>
							<entry>
								<para>Depth layers</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>2</para>
							</entry>
							<entry>
								<para>Collapsed tree</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>3</para>
							</entry>
							<entry>
								<para>Balanced tree</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>4</para>
							</entry>
							<entry>
								<para>Circular</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>5</para>
							</entry>
							<entry>
								<para>Circular (Marked Up)</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>6</para>
							</entry>
							<entry>
								<para>Circular (Balloon)</para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-statuswrl_include"/>Statuswrl CGI Include World</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>statuswrl_include=&lt;vrml_file&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>statuswrl_include=myworld.wrl</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option allows you to include your own objects in the generated VRML world. It is
			assumed that the file resides in the path specified by the
			<link linkend="configuringnagios-configcgi-physical_html_path">physical_html_path</link> directive.</para>
			<note><para>This file must be a fully qualified VRML world (i.e. you can view it by itself in a VRML browser).</para></note>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-default_statuswrl_layout"/>Default Statuswrl Layout Method</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>default_statuswrl_layout=&lt;layout_number&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>default_statuswrl_layout=4</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option allows you to specify the default layout method used by the
			<link linkend="thebasics-cgis-statuswrl_cgi">statuswrl CGI</link>. Valid options are:</para>
			<informaltable frame="all">
				<tgroup cols="2">
					<thead>
						<row>
							<entry>
								<para>&lt;layout_number&gt; Value</para>
							</entry>
							<entry>
								<para>Layout Method</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>0</para>
							</entry>
							<entry>
								<para>User-defined coordinates</para>
							</entry>
						</row>
					</thead>
					<tbody>
						<row>
							<entry>
								<para>2</para>
							</entry>
							<entry>
								<para>Collapsed tree</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>3</para>
							</entry>
							<entry>
								<para>Balanced tree</para>
							</entry>
						</row>
						<row>
							<entry>
								<para>4</para>
							</entry>
							<entry>
								<para>Circular</para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-refresh_rate"/>CGI Refresh Rate</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>refresh_rate=&lt;rate_in_seconds&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>refresh_rate=90</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option allows you to specify the number of seconds between page refreshes
			for the <link linkend="thebasics-cgis-status_cgi">status</link>,
			<link linkend="thebasics-cgis-statusmap_cgi">statusmap</link>, and
			<link linkend="thebasics-cgis-extinfo_cgi">extinfo</link> CGIs.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-audio_alerts"/>Audio Alerts</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Formats:</para>
							</entry>
							<entry>
								<para><code>host_unreachable_sound=&lt;sound_file&gt;</code>
								<code>host_down_sound=&lt;sound_file&gt;</code>
								<code>service_critical_sound=&lt;sound_file&gt;</code>
								<code>service_warning_sound=&lt;sound_file&gt;</code>
								<code>service_unknown_sound=&lt;sound_file&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Examples:</para>
							</entry>
							<entry>
								<para>
								<code>host_unreachable_sound=hostu.wav</code>
								<code>host_down_sound=hostd.wav</code>
								<code>service_critical_sound=critical.wav</code>
								<code>service_warning_sound=warning.wav</code>
								<code>service_unknown_sound=unknown.wav</code>
								</para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>These options allow you to specify an audio file that should be played in your
			browser if there are problems when you are viewing the
			<link linkend="thebasics-cgis-status_cgi">status CGI</link>. If there are
			problems, the audio file for the most critical type of problem will be
			played. The most critical type of problem is on or more unreachable hosts, while
			the least critical is one or more services in an unknown state (see the order in
			the example above). Audio files are assumed to be in the media/ subdirectory in your HTML
			directory (i.e. <filename class="directory">/usr/local/nagios/share/media</filename>).</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-ping_syntax"/>Ping Syntax</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>ping_syntax=&lt;command&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>ping_syntax=/bin/ping -n -U -c 5 $HOSTADDRESS$</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option determines what syntax should be used when attempting to ping a host
			from the <acronym>WAP</acronym> interface (using the <link linkend="thebasics-cgis-statuswml_cgi">statuswml CGI</link>.
			You must include the full path to the ping binary, along with all required options.
			The <varname>$HOSTADDRESS$</varname> macro is substituted with the address of the host before the command is executed.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-escape_html_tags"/>Escape HTML Tags Option</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>escape_html_tags=[0/1]</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>escape_html_tags=1</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option determines whether or not HTML tags in host and service (plugin) output
			is escaped in the CGIs. If you enable this option, your plugin output will not be able
			to contain clickable hyperlinks.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-notes_url_target"/>Notes URL Target</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>notes_url_target=[target]</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>notes_url_target=_blank</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option determines the name of the frame target that notes URLs should be
			displayed in. Valid options include _blank, _self, _top, _parent, or any other
			valid target name.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-action_url_target"/>Action URL Target</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>action_url_target=[target]</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>action_url_target=_blank</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option determines the name of the frame target that action URLs should be
			displayed in. Valid options include _blank, _self, _top, _parent, or any other
			valid target name.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-enable_splunk_integration"/>Splunk Integration Option</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>enable_splunk_integration=[0/1]</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>enable_splunk_integration=1</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option determines whether integration functionality with Splunk is enabled
			in the web interface. If enabled, you'll be presented with <quote>Splunk It</quote>
			links in various places in the CGIs (log file, alert history, host/service detail, etc).
			Useful if you're trying to research why a particular problem occurred. For more 
			information on Splunk, visit <ulink url="http://www.splunk.com/">http://www.splunk.com/</ulink>.</para>
		</section>
		<section>
			<title>
				<anchor id="configuringnagios-configcgi-splunk_url"/>Splunk URL</title>
			
			<informaltable frame="all">
				<tgroup cols="2">
				<colspec colnum="1" colwidth="10*"/>
				<colspec colnum="2" colwidth="90*"/>
					<tbody>
						<row>
							<entry>
								<para>Format:</para>
							</entry>
							<entry>
								<para><code>splunk_url=&lt;path&gt;</code></para>
							</entry>
						</row>
						<row>
							<entry>
								<para>Example:</para>
							</entry>
							<entry>
								<para><code>splunk_url=http://127.0.0.1:8000/</code></para>
							</entry>
						</row>
					</tbody>
				</tgroup>
			</informaltable>
			<para>This option is used to define the base URL to your Splunk interface. This URL is
			used by the CGIs when creating links if the
			<link linkend="configuringnagios-configcgi-enable_splunk_integration">enable_splunk_integration</link>
			option is enabled.</para>
		</section>
	</section>
</chapter>

