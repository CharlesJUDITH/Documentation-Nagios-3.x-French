<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd"
[
 <!ENTITY % all.entities SYSTEM "../all-entities.ent">
 %all.entities;
]
>
<chapter id="configuringnagios-objectdefinitions" xreflabel="Object Definitions">
 <title>Définitions d'objet</title>

 <section>
  <title>Introduction</title>

  <para>Une des fonctionnalités du format de configuration des objets de Nagios est
que vous pouvez créer des définitions d'objets qui héritent leurs propriétés
d'autres objets de configuration. Une explication sur le fonctionnement de
l'héritage peut être trouvée <link
linkend="advancedtopics-objectinheritance">ici</link>. Je recommande
vivement que vous vous familiarisez avec l'héritage des objets une fois que
vous aurez lu la documentation présentée ci-dessous, du fait que cela
permet une maintenance des définitions d'objets beaucoup plus facile que
sans. Lisez aussi les <link linkend="advancedtopics-objecttricks">trucs et
astuces pour les objets</link> qui offrent des raccourcis pour des tâches de
configuration qui seraient autrement ingrates.
  </para>
  
  <note>
   <para>Quand vous créez et/ou éditez des fichiers de configuration, gardez ceci à l'esprit :</para>

  <orderedlist>
   <listitem>
    <para>Les lignes qui commencent par le caractère
'<computeroutput>#</computeroutput>' sont des commentaires et ne sont pas
traitées</para>
   </listitem>
   <listitem>
    <para>Les noms de variables sont sensibles à la casse</para>
   </listitem>
  </orderedlist>
  </note>
 </section>

 <section>
  <title><anchor id="configuringnagios-objectdefinitions-retention_notes" />Notes sur
la rétention</title>

  <para>Il est important de noter que plusieurs variables dans les définitions
d'hôtes, de services et de contacts peuvent ne pas être prise en compte par
Nagios quand vous les changez dans les fichiers de configuration. Les objets
de configuration concernés sont indiqués par une astérisque (<link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>). La
raison de ce comportement est que Nagios prend les valeurs contenues dans le
<link linkend="configuringnagios-configmain-state_retention_file">fichier de
rétention d'état</link> plutôt que celles contenues dans les fichiers de
configuration, à condition d'avoir activé la <link
linkend="configuringnagios-configmain-retain_state_information">rétention
d'états</link> au niveau global du programme et que la valeur de la variable
soit changée pendant l'exécution du programme par une <link
linkend="configuringnagios-configmain-check_external_commands">commande
externe</link>.</para>

  <para>Une façon de contourner le problème est de désactiver la rétention des
informations différentes de l'état en utilisant la variable
<varname>retain_nonstatus_information</varname> dans les définitions
d'hôtes, de services et de contacts. Désactiver cette variable permettra à
Nagios de prendre les valeurs de vos fichiers de configuration comme valeurs
initiales plutôt que du fichier de rétention d'états au moment du
(re)démarrage.
  </para>
 </section>

 <section>
  <title>Fichiers exemple de configuration</title>

  <note>
   <para>Des exemples de fichiers de configuration sont installés dans le répertoire
<filename class="directory">/usr/local/nagios/etc/</filename> quand vous
suivez le <link linkend="gettingstarted-quickstart">guide d'installation
rapide</link>.
   </para>
  </note>
 </section>

 <section>
  <title>Types d'objets</title>

  <para>
  <link linkend="configuringnagios-objectdefinitions-host">Définitions
d'hôtes</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-hostgroup">Définitions de
groupes d'hôtes</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-service">Définitions de
services</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-servicegroup">Définitions de
groupes de services</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-contact">Définitions de
contacts</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-contactgroup">Définitions de
groupes de contacts</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-timeperiod">Définitions de
périodes de temps</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-command">Définitions de
commandes</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-servicedependency">Définitions
de dépendances de services</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-serviceescalation">Définitions
d'escalades de services</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-hostdependency">Définitions de
dépendances d'hotes</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-hostescalation">Définitions
d'escalades d'hôtes</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-hostextinfo">Définitions
d'informations étendues d'hôtes</link> </para> <para> <link
linkend="configuringnagios-objectdefinitions-serviceextinfo">Définitions
d'informations étendues de services</link>
  </para>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-host" />Définition d'hôte</title>

   <section>
    <title>Description</title>

    <para>Une définition d'hôte est utilisé pour définir un serveur physique, une
station de travail, un composant, etc. qui est installé sur votre réseau.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define host{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>alias</para></entry>
        <entry><para><emphasis>alias</emphasis></para></entry>
       </row>

       <row>
        <entry><para>display_name</para></entry>
        <entry><para><emphasis>display_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>address</para></entry>
        <entry><para><emphasis>address</emphasis></para></entry>
       </row>

       <row>
        <entry><para>parents</para></entry>
        <entry ><para><emphasis>host_names</emphasis></para></entry>
       </row>

       <row>
        <entry><para>hostgroups</para></entry>
        <entry><para><emphasis>hostgroup_names</emphasis></para></entry>
       </row>

       <row>
        <entry><para>check_command</para></entry>
        <entry><para><emphasis>command_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>initial_state</para></entry>
        <entry><para>[o,d,u]</para></entry>
       </row>

       <row>
        <entry><para>max_check_attempts</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>check_interval</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>retry_interval</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>active_checks_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>passive_checks_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>check_period</para></entry>
        <entry><para><emphasis>timeperiod_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>obsess_over_host</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>check_freshness</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>freshness_threshold</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>event_handler</para></entry>
        <entry><para><emphasis>command_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>event_handler_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>low_flap_threshold</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>high_flap_threshold</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>flap_detection_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>flap_detection_options</para></entry>
        <entry><para>[o,d,u]</para></entry>
       </row>

       <row>
        <entry><para>process_perf_data</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>retain_status_information</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>retain_nonstatus_information</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>contacts</para></entry>
        <entry><para><emphasis>contacts</emphasis></para></entry>
       </row>

       <row>
        <entry><para>contact_groups</para></entry>
        <entry><para><emphasis>contact_groups</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notification_interval</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>first_notification_delay</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>notification_period</para></entry>
        <entry><para><emphasis>timeperiod_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notification_options</para></entry>
        <entry><para>[d,u,r,f,s]</para></entry>
       </row>

       <row>
        <entry><para>notifications_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>stalking_options</para></entry>
        <entry><para>[o,d,u]</para></entry>
       </row>

       <row>
        <entry><para>notes</para></entry>
        <entry><para><emphasis>note_string</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>action_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>icon_image</para></entry>
        <entry><para><emphasis>image_file</emphasis></para></entry>
       </row>

       <row>
        <entry><para>icon_image_alt</para></entry>
        <entry><para><emphasis>alt_string</emphasis></para></entry>
       </row>

       <row>
        <entry><para>vrml_image</para></entry>
        <entry><para><emphasis>image_file</emphasis></para></entry>
       </row>

       <row>
        <entry><para>statusmap_image</para></entry>
        <entry><para><emphasis>image_file</emphasis></para></entry>
       </row>

       <row>
        <entry><para>2d_coords</para></entry>
        <entry><para><emphasis>x_coord,y_coord</emphasis></para></entry>
       </row>

       <row>
        <entry><para>3d_coords</para></entry>
        <entry><para><emphasis>x_coord,y_coord,z_coord</emphasis></para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <para>
	<programlisting>
define host{
   host_name           bogus-router
   alias             Bogus Router #1
   address            192.168.1.254
   parents            server-backbone
   check_command         check-host-alive
   check_interval         5
   retry_interval         1
   max_check_attempts       5
   check_period          24x7
   process_perf_data       0
   retain_nonstatus_information  0
   contact_groups         router-admins
   notification_interval     30
   notification_period      24x7
   notification_options      d,u,r
}
	</programlisting></para>
   </section>

   <section>
    <title>Description des variables</title>

	<variablelist>
	<varlistentry>
		<term>
			host_name
		</term>
		<listitem>
		<para>
		Cette variable est utilisée pour définir le nom court identifiant l'hôte. Ce
nom est utilisé dans les définitions de groupes d'hôtes et de services pour
faire référence à cet hôte en particulier. Les hôtes peuvent avoir plusieurs
services (qui sont supervisés) associés à eux. Bien utilisée, la <link
linkend="thebasics-macros">macro</link> &macro-hostname; contiendra ce nom court.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			alias
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir un nom long ou une description
identifiant l'hôte. Cela permet d'identifier plus facilement un hôte en
particulier. Bien utilisée, la <link linkend="thebasics-macros">macro</link>
&macro-hostalias; contiendra cet alias/description.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			address
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir l'adresse de l'hôte. Normalement,
c'est une adresse IP, même si cela pourrait être ce que vous voulez (au
moins tant que cela peut être utilisé pour contrôler l'état d'un hôte). Vous
pouvez utiliser le FQDN pour identifier l'hôte plutôt que son adresse IP,
mais avec des problèmes possibles si les services &protocol-dns; ne sont pas
disponibles. Bien utilisée, la <link linkend="thebasics-macros">macro</link>
&macro-hostaddress; contiendra cette adresse.</para><note><para>Le nom de l'hôte sera utilisé comme adresse si vous ne précisez pas de
variable adresse dans la définition de l'hôte.</para></note><caution><para>Une petite mise en garde néanmoins sur le fait de le faire - si le service
&protocol-dns; tombe, la plupart de vos contrôles de services seront en
erreur parce que les plugins seront incapbles de résoudre le nom de l'hôte.</para></caution>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			display_name
		</term>
		<listitem>
		<para>Cette variables est utilisée pour afficher un nom différent à l'affichage
dans l'interface web pour cet hôte. Si non précisée, la valeur par défaut
est prise depuis la variable <varname>host_name</varname>.</para><note><para>Les &acronym-cgi;s actuels n'utilise pas cette option, mais les futurs versions de
l'interface le feront.
        </para></note>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			parents
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une liste séparée par des virgules
de noms courts représentant les hôtes <quote>parents</quote> de cet hôte en
particulier. Les hôtes parents sont typiquement des routeurs, des pare-feux,
etc… qui se trouvent sur la route entre le serveur de supervision et les
hôtes à superviser. Un routeur, switch, etc… qui se trouve le plus près de
l'hôte à superviser est considéré comme le <quote>parent</quote> de cet
hôte. Lisez le document <quote>Déterminer l'état et l'accessibilité du
réseau des hôtes</quote> situé <link
linkend="thebasics-networkreachability">ici</link> pour plus
d'informations. Si l'hôte appartient au même segment réseau que le serveur
de supervision (sans routeur intermédiaire, etc.), alors l'hôte est
considéré comme membre du réseau local et il n'aura pas d'hôte
parent. Laissez cette valeur vide si l'hôte n'a pas d'hôte parent (par
exemple si il est sur le même segment réseau que le serveur Nagios). L'ordre
dans lequel vous précisez les hôtes parents n'a pas d'effet sur la façon
dont sont supervisés les choses.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			hostgroups
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> des <link
linkend="configuringnagios-objectdefinitions-hostgroup">groupes
d'hôtes</link> auxquels appartient cet hôte. Plusieurs noms de groupes
doivent être séparés par des virgules. Cette variable peut être utilisée
comme alternative (ou en complément) à la variable
<emphasis>members</emphasis> des définitions de <link
linkend="configuringnagios-objectdefinitions-hostgroup">groupes
d'hôtes</link>.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			check_command
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier le <emphasis>nom
court</emphasis> de la <link
linkend="configuringnagios-objectdefinitions-command">commande</link> à
utiliser pour contrôler si l'hôte répond ou non. Typiquement, cette commande
essayera de pinguer l'hôte pour voir s'il est <quote>vivant</quote>. La
commande doit retourner un état OK (0) ou Nagios pensera que l'hôte ne
répond pas. Si vous laissez cette variable vide, cet hôte ne sera
<emphasis>pas</emphasis> contrôlé activement. Du coup, Nagios partira
certainement du principe que cet hôte répond (il peut être indiqué en état
<quote>PENDING</quote> dans l'interface web). C'est utile si vous supervisez
des imprimantes ou des équipements qui sont fréquemment éteints. Le temps
maximal d'exécution de la commande peut être contrôlé par l'option <link
linkend="configuringnagios-configmain-host_check_timeout">&config-host_check_timeout;</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			initial_state
		</term>
		<listitem>
		<para>Par défaut, Nagios part du prinicipe que tous les hôtes sont dans un état UP
au démarrage. Vous pouvez préciser l'état intitial souhaité de l'hôte avec
cette variable. Les options valables sont : <emphasis
role="strong">o</emphasis> = UP, <emphasis role="bold">d</emphasis> =
DOWN, et <emphasis role="bold">u</emphasis> = UNREACHABLE.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			max_check_attempts
		</term>
		<listitem>
		<para>Cette variable peut être utilisée pour définir le nombre de fois que Nagios
va tenter d'exécuter la commande de contrôle d'hôte si elle retourne un état
différent de OK. Mettre cette valeur à 1 indique à Nagios de générer une
alerte sans réessayer de contrôler l'hôte.</para><note><para>Si vous ne souhaitez pas contrôler l'état de l'hôte, vous devez quand même
placer cette variable à une valeure minimale de 1. Pour court-circuiter le
contrôle de l'hôte, laissez simplement vide l'option
<varname>check_command</varname>.
        </para></note>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			check_interval
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nombre d'<quote>unités de
temps</quote> entre les contrôles réguliers d'un hôte. Sauf si vous avez
changé la variable <link
linkend="configuringnagios-configmain-interval_length">&config-interval_length;</link>
de sa valeur par défaut qui est 60, ce nombre indique des minutes. Plus
d'informations sur cette valeur peut être trouvée dans la documentation sur
<link linkend="advancedtopics-checkscheduling">l'ordonnancement des
contrôles</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			retry_interval
		</term>
		<listitem>
		<para>Ce paramètre est utilisé pour définir le nombre d'<quote>unités de
temps</quote> à attendre avant d'ordonnancer un nouveau contrôle des
hôtes. Les hôtes sont recontrôlés à l'intervalle de réessai quand ils sont
passés dans un état non UP. Une fois que l'hôte à été recontrôlé le nombre de
fois précisé dans <emphasis role="bold">max_check_attempts</emphasis> sans
changement d'état, il sera contrôlé à nouveau sur une fréquence
<quote>normale</quote> telle que définie dans la valeur <emphasis
role="bold">check_interval</emphasis>. Sauf si vous avez changé la variable
<link
linkend="configuringnagios-configmain-interval_length">&config-interval_length;</link>
de sa valeur par défaut qui est 60, ce nombre indique des minutes. Plus
d'informations sur cette valeur peut être trouvée dans la documentation sur
<link linkend="advancedtopics-checkscheduling">l'ordonnancement des
contrôles</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			active_checks_enabled<link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir si les contrôles actifs (soit
réguliers soit à la demande) sont possibles pour cet hôte. Valeurs : 0 =
contrôles d'hôte actif désactivés, 1 = contrôles d'hôte actif activés.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			passive_checks_enabled <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir si les contrôles passifs sont
possibles pour cet hôte. Valeurs : 0 = contrôles d'hôte passif désactivés, 1
= contrôles d'hôte passif activés.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			check_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nom court de la <link
linkend="configuringnagios-objectdefinitions-timeperiod">période de
temps</link> pendant laquelle peuvent se dérouler les contrôles actifs de cet
hôte.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			obsess_over_host <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir si les contrôles pour cet hôte
seront ou non <quote>obsessed</quote> en utilisant la commande <link
linkend="configuringnagios-configmain-ochp_command">&config-ochp_command;</link>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			check_freshness <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir si les <link
linkend="advancedtopics-freshness">contrôle de fraîcheur</link> sont
possibles pour cet hôte. Valeurs : 0 = contrôles de la fraîcheur désactivés,
1 = contrôles de la fraîcheur activés.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			freshness_threshold
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le seuil de fraîcheur (en secondes)
de cet hôte. Si vous mettez cette valeur à 0, Nagios va automatiquement
déterminer un seuil de fraîcheur à utiliser.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			event_handler
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le <emphasis>nom court</emphasis>
d'une <link
linkend="configuringnagios-objectdefinitions-command">commande</link> à
exécuter à chaque changement d'état de l'hôte (par exemple quand il n'est
plus disponible ou qu'il redevient disponible). Lisez la documentation sur
les <link linkend="advancedtopics-eventhandlers">gestionnaires
d'événenements</link> pour plus d'explications sur la façon d'écrire des
scripts pour gérer les événements. Le temps maximal d'exécution d'une
commande de gestion d'événements est contrôlé par l'option <link
linkend="configuringnagios-configmain-event_handler_timeout">&config-event_handler_timeout;</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			event_handler_enabled <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si le gestionnaire d'événements
est activé ou non pour un hôte. Valeurs : 0 = gestionnaire d'événements
d'hôte désactivé, 1 = gestionnaire d'événements d'hôte activé</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			low_flap_threshold
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le seuil bas de détection
d'oscillation pour l'hôte. Plus d'informations sur la détection
d'ocillations se trouvent <link
linkend="advancedtopics-flapping">ici</link>. Si vous mettez cette variable
à 0, la valeur précisée avec <link
linkend="configuringnagios-configmain-low_host_flap_threshold">&config-low_host_flap_threshold;</link>
au niveau global du logiciel sera utilisée.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			high_flap_threshold
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le seuil haut de détection
d'oscillation pour l'hôte. Plus d'informations sur la détection
d'ocillations se trouvent <link
linkend="advancedtopics-flapping">ici</link>. Si vous mettez cette variable
à 0, la valeur précisée avec <link
linkend="configuringnagios-configmain-low_host_flap_threshold">&config-low_host_flap_threshold;</link>
au niveau global du logiciel sera utilisée.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			flap_detection_enabled <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si la détection d'oscillation
est activée ou non pour l'hôte. Plus d'informations sur la détection
d'ocillations se trouvent <link
linkend="advancedtopics-flapping">ici</link>. Valeurs : 0 = détection
d'ocillation pour l'hôte désactivée, 1 = détection d'ocillation pour l'hôte
activée.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			flap_detection_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer quels états d'hôte seront
utilisés pour la <link linkend="advancedtopics-flapping">logique de
détection d'oscillations</link>. Les options valides sont une combinaison
d'un ou plusieurs états parmi les suivants : <emphasis
role="bold">o</emphasis> = états UP, <emphasis role="bold">d</emphasis> =
états DOWN, <emphasis role="bold">u</emphasis> = états UNREACHABLE.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			process_perf_data <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si le traitement des données de
performance est activé ou non pour l'hôte. Valeurs : 0 = traitement des
données de performance désactivé, 1 = traitement des données de performance
activé.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			retain_status_information
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si les informations relatives aux
états de l'hôte sont conservées ou non après redémarrage du programme. C'est
seulement utile si vous avez activé la rétention d'états en utilisant la
variable <link
linkend="configuringnagios-configmain-retain_state_information">&config-retain_state_information;</link>.
Valeur : 0 = rétention des données d'états désactivée, 1 = rétention des
données d'états activée.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			retain_nonstatus_information
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si les informations différentes
des états de l'hôte sont conservées après redémarrage du programme. C'est
seulement utile si vous avez activé la rétention d'états en utilisant la
variable <link
linkend="configuringnagios-configmain-retain_state_information">&config-retain_state_information;</link>.
Valeur : 0 = rétention des données différentes des états désactivée, 1 =
rétention des données différentes des états activée.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contacts
		</term>
		<listitem>
		<para>C'est une liste des <emphasis>noms courts</emphasis> des <link
linkend="configuringnagios-objectdefinitions-contact">contacts</link> qui
devraient être notifiés quand quand il y a des problèmes (ou retours à la
normale) avec cet hôte. Plusieurs contacts peuvent être séparés par des
virgules. Utile si vous souhaitez envoyer des notifications vers quelques
personnes et que vous ne souhaitez pas configurer des <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link>. Vous devez préciser au moins un contact ou un groupe de
contacts dans chaque définition d'hôte.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contact_groups
		</term>
		<listitem>
		<para>C'est une liste des <emphasis>noms courts</emphasis> des <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link> qui devraient être notifiés quand quand il y a des problèmes
(ou retours à la normale) avec cet hôte. Plusieurs groupes de contacts
peuvent être séparés par des virgules. Vous devez préciser au moins un
contact ou un groupe de contacts dans chaque définition d'hôte.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_interval
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nombre d'<quote>unités de
temps</quote> à attendre avant de re-notifier un contact que ce service est
<emphasis>toujours</emphasis> down ou innacessible. Sauf si vous avez changé
la variable <link
linkend="configuringnagios-configmain-interval_length">&config-interval_length;</link>
de sa valeur par défaut qui est 60, ce nombre signifie des minutes. Sivous
mettez cette valeur à 0, Nagios ne re-notifiera <emphasis>pas</emphasis> les
contacts des problèmes pour cet hôte - une seule notification de problème
sera envoyée.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			first_notification_delay
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nombre d'<quote>unités de
temps</quote> à attendre avant d'envoyer la première notification quand un
hôte passe dans un état non-UP. Sauf si vous avez changé la variable <link
linkend="configuringnagios-configmain-interval_length">&config-interval_length;</link>
de sa valeur par défaut qui est 60, ce nombre signifie des minutes. Si vous
mettez cette valeur à 0, Nagios commencera à envoyer des notifications
immédiatement.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court des <link
linkend="configuringnagios-objectdefinitions-timeperiod">périodes de
temps</link> pendant lesquelles les notifications d'événements sont envoyées
aux contacts de cet hôte. Si cet hôte passe en état down, inaccessible ou
qu'il revient à la normale hors d'une période de temps précisée, aucune
notification ne sera envoyée.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer quand les notifications pour un
hôte doivent être envoyées. Les options valides sont une combinaison d'un ou
de plusieurs des états suivants : <emphasis role="bold">d</emphasis> =
envois de notifications sur état DOWN, <emphasis role="bold">u</emphasis> =
envois de notifications sur état UNREACHABLE, <emphasis
role="strong">r</emphasis> = envois de notifications sur état OK, <emphasis
role="bold">f</emphasis> = envois de notification quand un hôte commence ou
arrête d'<link linkend="advancedtopics-flapping">osciller</link>, et
<emphasis role="bold">s</emphasis> = envois de notifications quand une
<link linkend="advancedtopics-downtime">période de maintenance
planifiée</link> commence ou finit.<informalexample><para>
        Si vous mettez <emphasis role="bold">d,r</emphasis> dans ce champ, les
notifications seront seulement envoyées quand l'hôte passera en état DOWN et
quand il sortira de cet état DOWN (retour à la normale).</para></informalexample>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notifications_enabled <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si les notifications pour cet
hôte sont activées ou non. Valeurs : 0 = notifications pour l'hôte
désactivées, 1 = notifications pour l'hôte activées.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			talking_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer quelle
<quote>mémorisation</quote> d'états est utilisée pour l'hôte. Les options
valides sont une combinaison d'un ou ou de plusieurs des états suivants :
<emphasis role="bold">o</emphasis> = mémorisation des états UP, <emphasis
role="bold">d</emphasis> = mémorisation des états DOWN et <emphasis
role="strong">u</emphasis> = mémorisation des états UNREACHABLE. Plus
d'informations sur la mémorisation d'états peuvent être trouvées <link
linkend="advancedtopics-stalking">ici</link>.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser une note d'information à rattacher
à l'hôte. Si vous avez précisée une note ici, vous la verrez dans le &acronym-cgi;
<link linkend="thebasics-cgis-extinfo_cgi">des informations étendues</link>
(quand vous regardez les informations d'un hôte spécifié).</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
informations supplémentaires sur l'hôte. Si vous précisez une URL, vous
verrez une icône de dossier rouge dans les &acronym-cgi;s (quand vous regardez les
informations de l'hôte) qui renverra vers l'URL précisée ici. N'importe
quelle URL valide peut être utilisée. Si vous pensez utiliser des chemins
relatifs, le chemin de base sera le même que celui utilisé pour accéder aux
&acronym-cgi;s (par exemple <emphasis>/cgi-bin/nagios/</emphasis>). Peut être utile si
vous souhaitez mettre à disposition d'autres équipes de support les
informations détaillées d'un hôte, les moyens de contacts à utiliser en cas
d'urgence, etc.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			action_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
actions supplémentaires à appliquer à l'hôte. Si vous précisez une URL, vous
verrez une icône <quote>splat</quote> rouge dans les &acronym-cgi;s (quand vous
regardez les informations de l'hôte) qui renverra vers l'URL précisée
ici. N'importe quelle URL valide peut être utilisé. Si vous pensez utiliser
des chemins relatifs, le chemin de base sera le même que celui utilisé pour
accéder aux &acronym-cgi;s (par exemple <emphasis>/cgi-bin/nagios/</emphasis>).
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			icon_image
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nom d'une image au format GIF,
PNG ou JPG à associer à l'hôte. Cette image sera affichée dans plusieurs
endroits des &acronym-cgi;s. Le rendu de l'image sera maximal si celle-ci est au
format 40x40 pixels. Les images des hôtes sont censées se trouver dans le
sous-répertoire <emphasis role="bold">logos/</emphasis> de votre dossier
d'images HTML (par exemple <filename
class="directory">/usr/local/nagios/share/images/logos</filename>).
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			icon_image_alt
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une chaîne de caractère optionnelle
à utiliser dans l'attribut ALT de l'image précisée par l'argument
<emphasis>&lt;icon_image&gt;</emphasis>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			vrml_image
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nom d'une image au format GIF,
PNG ou JPG à associer à l'hôte. Cette image sera utilisée comme fond de
carte pour l'hôte spécifié dans le &acronym-cgi; <link
linkend="thebasics-cgis-statuswrl_cgi">statuswrl</link>. Au contraire de
l'image utilisée dans la variable <emphasis>&lt;icon_image&gt;</emphasis>,
celle-ci ne devrait <emphasis>pas</emphasis> avoir d'attribut de
transparence. Si c'est le cas, le rendu de l'hôte sera un peu bizarre. Les
images des hôtes sont censées se trouver dans le sous-répertoire <emphasis
role="strong">logos/</emphasis> de votre dossier d'images HTML (par exemple
<filename
class="directory">/usr/local/nagios/share/images/logos</filename>).
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			statusmap_image
		</term>
		<listitem>
		<para>Cette variable est utlisée pour définir le nom d'une image à associer à
l'hôte dans le &acronym-cgi; <link
linkend="thebasics-cgis-statusmap_cgi">statusmap</link>. Vous pouvez
utiliser une image au format JPEG, PNG ou GIF si vous voulez, mais je vous
recommande vivement d'utiliser le format d'image GD2 pour ne pas perdre de
temps &acronym-cpu; en calcul (comme c'est le cas avec les autres formats) quand vous
générez la carte d'états. Les images GD2 peuvent être créées à partir
d'image PNG en utilisant l'utilitaire <emphasis
role="bold">pngtogd2</emphasis> fourni avec la <ulink
url="&url-gd;">librairie gd</ulink> de Thomas Boutell. Les images au format
GD2 doivent être créées dans un format <emphasis>non compressé</emphasis>
toujours pour minimiser la charge &acronym-cpu; au moment de charger la carte
réseau. Le rendu de l'image sera maximal si vous utilisez une taille de
40x40 pixels. Vous pouvez laisser cette option vide si vous n'utilisez pas
le &acronym-cgi; de carte d'états. Les images des hôtes sont censées se trouver dans
le sous-répertoire <emphasis role="bold">logos/</emphasis> de votre
dossier d'images HTML (par exemple <filename
class="directory">/usr/local/nagios/share/images/logos</filename>).
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			2d_coords
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les coordonnées à utiliser pour
l'hôte dans le &acronym-cgi; <link
linkend="thebasics-cgis-statusmap_cgi">statusmap</link>. Les coordonnées
doivent être données en entier positif car correpsondant aux pixels dans
l'image générée. Le départ de la carte (0,0) se trouve dans le coin
supérieur gauche de l'image et s'étend en positif dans la direction x (à
droite) à partir du haut de l'image et en positif dans la direction y (bas)
à partir du bord gauche de l'image. Pour référence, la taille des icônes es
thabituellement de 40x40 pixels (le texte prend un peu d'espace
supplémentaire). Les coordonnées que vous précisez ici sont pour le coin
supérieur gauche de l'icône de l'hôte à dessiner.</para><note><para>Ne vous inquiétez pas du nombre maximal de coordonnées que vous pouvez utliser
ici. Le &acronym-cgi; va automatiquement calculer les dimensions maximales de l'image
qu'il créée en se basant sur les plus grandes valeurs x et y que vous avez
précisé.
        </para></note>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			3d_coords
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les coordonnées de l'hôte à
utiliser dans le &acronym-cgi; <link
linkend="thebasics-cgis-statuswrl_cgi">statuswrl</link>. Les coordonnées
peuvent être des nombres positifs ou négatifs. Le départ du dessin est
(0.0,0.0,0.0). Pour référence, la taille des cubes pour les hôtes est de 0,5
unités de chaque côté (les textes rennent un plus d'espace). Les coordonnées
que vous utilisez sont le centre du cube de l'hôte.</para>
		</listitem>
	</varlistentry>
	
	<!--
	<varlistentry>
		<term>
		</term>
		<listitem>
		</listitem>
	</varlistentry>
	-->
</variablelist>
	
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-hostgroup" />Définition de
groupe d'hôtes</title>

   <section>
    <title>Description</title>

    <para>Une définition de groupe d'hôtes est utilisée pour grouper un ou plusieurs
hôtes ensemble de façon à simplifier la configuration avec les <link
linkend="advancedtopics-objecttricks">trucs et astuces sur les objets</link>
ou pour des besoins de visualisation dans les <link
linkend="thebasics-cgis">CGIs</link>.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define hostgroup{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>hostgroup_name</para></entry>
        <entry><para><emphasis>hostgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>alias</para></entry>
        <entry><para><emphasis>alias</emphasis></para></entry>
       </row>

       <row>
        <entry><para>members</para></entry>
        <entry><para><emphasis>hosts</emphasis></para></entry>
       </row>

       <row>
        <entry><para>hostgroup_members</para></entry>
        <entry><para><emphasis>hostgroups</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes</para></entry>
        <entry><para><emphasis>note_string</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>action_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"
        ><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

	<programlisting>
define hostgroup{
   hostgroup_name     novell-servers
   alias          Novell Servers
   members         netware1,netware2,netware3,netware4
}
	</programlisting>
   </section>

   <section>
    <title>Description des variables</title>
	
	<variablelist>
	<varlistentry>
		<term>
			hostgroup_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nom court à utiliser pour
identifier le groupe d'hôtes.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			alias
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir un nom long ou une description à
utiliser pour identifier le groupe d'hôtes. Ceci est fourni pour vous
permettre d'identifier plus facilement un groupe d'hôte en particulier.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			members
		</term>
		<listitem>
		<para>C'est une liste de <emphasis>noms courts</emphasis> d'<link
linkend="configuringnagios-objectdefinitions-host">hôtes</link> qui doivent
faire partie de ce groupe. Plusieurs noms d'hôtes peuvent être séparés par
des virgules. Cette variable peut être utilisée comme une alternative (ou en
complément) à la variable <emphasis>hostgroups</emphasis> dans les <link
linkend="configuringnagios-objectdefinitions-host">définitions
d'hôtes</link>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			hostgroup_members
		</term>
		<listitem>
		<para>Cette variable optionnelle peut être utilisée pour inclure des hôtes depuis
des <quote>sous</quote>-groupes dans ce groupe d'hôtes. Précisez une liste
séparée par des virgules de noms courts d'autres groupes d'hôtes à inclure
dans ce groupe.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser une note d'information à rattacher
à l'hôte. Si vous avez précisée une note ici, vous la verrez dans le &acronym-cgi;
<link linkend="thebasics-cgis-extinfo_cgi">des informations étendues</link>
(quand vous regardez les informations d'un hôte spécifié).
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
informations supplémentaires sur le groupe d'hôtes. Si vous précisez une
URL, vous verrez une icône de dossier rouge dans les &acronym-cgi;s (quand vous
regardez les informations de groupe d'hôtes) qui renverra vers l'URL
précisée ici. N'importe quelle URL valide peut être utilisé. Si vous pensez
utiliser des chemins relatifs, le chemin de base sera le même que celui
utilisé pour accéder aux &acronym-cgi;s (par exemple
<emphasis>/cgi-bin/nagios/</emphasis>). Peut être utile si vous souhaitez
mettre à disposition d'autres équipes de support les informations détaillées
d'un hôte, les moyens de contacts à utiliser en cas d'urgence, etc.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			action_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
actions supplémentaires à appliquer aux groupe d'hôtes. Si vous précisez une
URL, vous verrez une icône <quote>splat</quote> rouge dans les &acronym-cgi;s (quand
vous regardez les informations du groupe d'hôtes) qui renverra vers l'URL
précisée ici. N'importe quelle URL valide peut être utilisé. Si vous pensez
utiliser des chemins relatifs, le chemin de base sera le même que celui
utilisé pour accéder aux &acronym-cgi;s (par exemple
<emphasis>/cgi-bin/nagios/</emphasis>).
		</para>
		</listitem>
	</varlistentry>
	</variablelist>
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-service" />Définition de
service</title>

   <section>
    <title>Description</title>

    <para>Une définition de service est utilisée pour identifier un
<quote>service</quote> qui fonctionne sur cet hôte. le terme
<quote>service</quote> est utilisé de façon générale. Cela peut désigner un
service qui fonctionne sur l'hôte (POP, &protocol-smtp;, &protocol-http;,
etc.) ou tout autre type de métrique associé à l'hôte (réponse au ping,
nombre d'utilisateurs connectés, espace disque dur libre, etc.). Les
différents arguments d'une définition de service sont précisés ci-dessous.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define service{</para></entry>

        <entry></entry>
       </row>

       <row>
        <entry><para>host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>hostgroup_name</para></entry>
        <entry><para><emphasis>hostgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>service_description</para></entry>
        <entry><para><emphasis>service_description</emphasis></para></entry>
       </row>

       <row>
        <entry><para>display_name</para></entry>
        <entry><para><emphasis>display_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>servicegroups</para></entry>
        <entry><para>servicegroup_names</para></entry>
       </row>

       <row>
        <entry><para>is_volatile</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>check_command</para></entry>
        <entry><para><emphasis>command_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>initial_state</para></entry>
        <entry><para>[o,w,u,c]</para></entry>
       </row>

       <row>
        <entry><para>max_check_attempts</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>check_interval</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>retry_interval</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>active_checks_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>passive_checks_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>check_period</para></entry>
        <entry><para><emphasis>timeperiod_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>obsess_over_service</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>check_freshness</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>freshness_threshold</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>event_handler</para></entry>
        <entry><para><emphasis>command_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>event_handler_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>low_flap_threshold</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>high_flap_threshold</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>flap_detection_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>flap_detection_options</para></entry>
        <entry><para>[o,w,c,u]</para></entry>
       </row>

       <row>
        <entry><para>process_perf_data</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>retain_status_information</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>retain_nonstatus_information</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>notification_interval</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>first_notification_delay</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>notification_period</para></entry>
        <entry><para><emphasis>timeperiod_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notification_options</para></entry>
        <entry><para>[w,u,c,r,f,s]</para></entry>
       </row>

       <row>
        <entry><para>notifications_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>contacts</para></entry>
        <entry><para><emphasis>contacts</emphasis></para></entry>
       </row>

       <row>
        <entry><para>contact_groups</para></entry>
        <entry><para><emphasis>contact_groups</emphasis></para></entry>
       </row>

       <row>
        <entry><para>stalking_options</para></entry>
        <entry><para>[o,w,u,c]</para></entry>
       </row>

       <row>
        <entry><para>notes</para></entry>
        <entry><para><emphasis>note_string</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>action_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>icon_image</para></entry>
        <entry><para><emphasis>image_file</emphasis></para></entry>
       </row>

       <row>
        <entry><para>icon_image_alt</para></entry>
        <entry><para><emphasis>alt_string</emphasis></para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>
define service{
   host_name        linux-server
   service_description   check-disk-sda1
   check_command      check-disk!/dev/sda1
   max_check_attempts   5
   check_interval     5
   retry_interval     3
   check_period      24x7
   notification_interval  30
   notification_period   24x7
   notification_options  w,c,r
   contact_groups     linux-admins
}
	</programlisting>
   </section>

   <section>
    <title>Description des variables : </title>

	<variablelist>
	<varlistentry>
		<term>
			host_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le <emphasis>nom court</emphasis>
de(s) l'<link
linkend="configuringnagios-objectdefinitions-host">hôte(s)</link> sur lequel
le service <quote>tourne</quote> ou avec lequel il est associé. Plusieurs
hôtes doivent être séparés par des virgules.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			hostgroup_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le <emphasis>nom court</emphasis>
de(s) <link
linkend="configuringnagios-objectdefinitions-hostgroup">groupe(s)
d'hôtes</link> sur lequel le service <quote>tourne</quote> ou avec lequel il
est associé. Plusieurs groupes d'hôtes doivent être séparés par des
virgules.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			service_description
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir la description du service et peut
contenir des espaces, des dashes et des colons (les semi-colons, apostrophes
et guillements doivent être proscrits). Deux services associés à un même
hôte ne peuvent pas avoir la même description. Les services sont uniquement
identifiés par leurs variables <emphasis>host_name</emphasis> et
<emphasis>service_description</emphasis>.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			display_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir un nom différent à afficher dans
l'interface web pour ce service. Si non précisé, la valeur par défaut est
prise depuis la variable <emphasis>service_description</emphasis>.</para>
		<note><para>Les &acronym-cgi;s actuels n'utilise pas cette option, mais les futurs versions de
l'interface le feront.</para></note>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			servicegroups
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> des <link
linkend="configuringnagios-objectdefinitions-servicegroup">groupe(s) de
services</link> auxquels appartient ce service. Plusieurs groupes de
services peuvent être séparés par des virgules. Cette variable peut être
utilisée comme alternative à la variable <emphasis>members</emphasis> des
définitions de <link
linkend="configuringnagios-objectdefinitions-servicegroup">groupes de
services</link>.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			is_volatile
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser si un service doit être considéré
comme <quote>volatile</quote>. Les services ne sont normalement
<emphasis>pas</emphasis> volatiles. Plus d'informations sur les services
volatiles et en quoi ils différent des services normaux peut être trouvée
<link linkend="advancedtopics-volatileservices">ici</link>. Valeur : 0 =
service non volatile, 1 = service volatile.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			check_command
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le <emphasis>nom court</emphasis>
d'une <link
linkend="configuringnagios-objectdefinitions-command">commande</link> à
utiliser pour contrôler l'état du service. Le temps maximal d'exécution
d'une commande de contrôle de service est contrôlé par l'option <link
linkend="configuringnagios-configmain-service_check_timeout">&config-service_check_timeout;</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			initial_state
		</term>
		<listitem>
		<para>Par défaut, Nagios part du principe que tous les services sont en état OK au
démarrage. Vous pouvez modifier l'état de départ d'un service en utilisant
cette variable. Les options valides : 
		<itemizedlist>
		<listitem><para><emphasis role="bold">o</emphasis> = OK</para></listitem>
		<listitem><para><emphasis role="bold">w</emphasis> = WARNING</para></listitem>
		<listitem><para><emphasis role="bold">u</emphasis> = UNKNOWN</para></listitem>
		<listitem><para><emphasis role="bold">c</emphasis> = CRITICAL.</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			max_check_attempts
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nombre de fois que Nagios va
réessayer la commande de contrôle de service dans le cas où celle-ci renvoie
une état différent de OK. Mettre la valeur à 1 fera que Nagios générera une
alerte sans recontrôler le service.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			check_interval
		</term>
		<listitem>
		<para>Ce paramètre est utilisé pour définir le nombre d'<quote>unités de
temps</quote> à attendre avant d'ordonnancer le contrôle
<quote>régulier</quote> suivant du service. Les contrôles
<quote>réguliers</quote> sont ceux qui sont exécutés quand un service est
dans un état OK ou non-OK mais qu'il a déjà été recontrôlé le nombre de fois
précisé dans la variable <emphasis
role="bold">max_check_attempts</emphasis>. Sauf si vous avez changé la
variable <link
linkend="configuringnagios-configmain-interval_length">&config-interval_length;</link>
de sa valeur par défaut qui est 60, ce nombre indique des minutes. Plus
d'informations sur cette valeur peut être trouvée dans la documentation sur
<link linkend="advancedtopics-checkscheduling">l'ordonnancement des
contrôles</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			retry_interval
		</term>
		<listitem>
		<para>Ce paramètre est utilisé pour définir le nombre d'<quote>unités de
temps</quote> à attendre avant d'ordonnancer un nouveau contrôle du
service. Les services sont recontrôlés à l'intervalle de réessai quand ils
sont passées dans un état non UP. Une fois que le service à été réessayé le
nombre de fois précisé dans la variable <emphasis
role="bold">max_check_attempts</emphasis> sans changement d'état, il sera
contrôlé à nouveau sur une fréquence <quote>normale</quote> telle que
définie dans la valeur <emphasis role="bold">check_interval</emphasis>. Sauf
si vous avez changé la variable <link
linkend="configuringnagios-configmain-interval_length">&config-interval_length;</link>
de sa valeur par défaut qui est 60, ce nombre indique des minutes. Plus
d'informations sur cette valeur peut être trouvée dans la documentation sur
<link linkend="advancedtopics-checkscheduling">l'ordonnancement des
contrôles</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			active_checks_enabled<link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si les contrôles actifs sont
activés ou non pour ce service. Valeurs :
		<itemizedlist>
		<listitem><para>0 = disable active service checks</para></listitem>
		<listitem><para>1 = enable active service checks.</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			passive_checks_enabled <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si les contrôles passifs sont
activés ou non pour ce service. Valeurs : 
		<itemizedlist>
		<listitem><para>0 = disable passive service checks</para></listitem>
		<listitem><para>1 = enable passive service checks.</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			check_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court de la <link
linkend="configuringnagios-objectdefinitions-timeperiod">période de
temps</link> pendant laquelle les contrôles actifs sont possibles.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			obsess_over_service <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si les contrôles de ce service
seront ou non <quote>obsessed</quote> en utilisant la commande <link
linkend="configuringnagios-configmain-ocsp_command">&config-ocsp_command;</link>.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			check_freshness <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si les <link
linkend="advancedtopics-freshness">contres de fraîcheur</link> sont activés
ou non pour ce service. Valeurs : 
		<itemizedlist>
		<listitem><para>0 = disable freshness checks</para></listitem>
		<listitem><para>1 = enable freshness checks</para></listitem>
		</itemizedlist>
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			freshness_threshold
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le seuil de fraîcheur (en secondes)
de ce service. Si vous mettez cette valeur à 0, Nagios va automatiquement
déterminer un seuil de fraîcheur à utiliser.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			event_handler
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le <emphasis>nom court</emphasis>
d'une <link
linkend="configuringnagios-objectdefinitions-command">commande</link> à
exécuter à chaque changement d'état du service (par exemple quand il n'est
plus disponible ou qu'il redevient disponible). Lisez la documentation sur
les <link linkend="advancedtopics-eventhandlers">gestionnaire
d'événenements</link> pour plus d'explications sur la façon d'écrire des
scripts pour gérer les événements. Le temps maximal d'exécution d'une
commande de gestion d'événements est contrôlé par l'option <link
linkend="configuringnagios-configmain-event_handler_timeout">&config-event_handler_timeout;</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			event_handler_enabled <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si le gestionnaire d'événements
est activé ou non pour ce service. Valeurs :
		<itemizedlist>
		<listitem><para>0 = disable service event handler</para></listitem>
		<listitem><para>1 = enable service event handler.</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			low_flap_threshold
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le seuil bas de détection
d'oscillation pour ce service. Plus d'informations sur la détection
d'ocillations se trouve <link
linkend="advancedtopics-flapping">ici</link>. Si vous mettez cette variable
à 0, la valeur précisée avec <link
linkend="configuringnagios-configmain-low_host_flap_threshold">&config-low_host_flap_threshold;</link>
au niveau global du logiciel sera utilisée.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			high_flap_threshold
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le seuil haut de détection
d'oscillation pour ce service. Plus d'informations sur la détection
d'ocillations se trouve <link
linkend="advancedtopics-flapping">ici</link>. Si vous mettez cette variable
à 0, la valeur précisée avec <link
linkend="configuringnagios-configmain-low_host_flap_threshold">&config-low_host_flap_threshold;</link>
au niveau global du logiciel sera utilisée.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			flap_detection_enabled <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si la détection d'oscillation
est activée ou non pour ce service. Plus d'informations sur la détection
d'ocillations se trouve <link
linkend="advancedtopics-flapping">ici</link>. Valeurs : 
		<itemizedlist>
		<listitem><para>0 = disable service flap detection</para></listitem>
		<listitem><para>1 = enable service flap detection.</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			flap_detection_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer quels états de service seront
utilisés pour la <link linkend="advancedtopics-flapping">logique de
détection d'oscillations</link>. Les options valides sont une combinaison
d'un ou plusieurs états parmi les suivants :
		<itemizedlist>
		<listitem><para><emphasis role="bold">o</emphasis> = états OK</para></listitem>
		<listitem><para><emphasis role="bold">w</emphasis> = états WARNING</para></listitem>
		<listitem><para><emphasis role="bold">c</emphasis> = états CRITICAL</para></listitem>
		<listitem><para><emphasis role="bold">u</emphasis> = états UNKNOWN.</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			process_perf_data <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si le traitement des données de
performance est activé ou non pour ce service. Valeurs : 
		<itemizedlist>
		<listitem><para>0 = traitement des données de performance désactivé</para></listitem>
		<listitem><para>1 = traitement des données de performance activé</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			retain_status_information
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si les informations relatives aux
états de service sont conservées ou non après redémarrage du
programme. C'est seulement utile si vous avez activé la rétention d'états en
utilisant la variable <link
linkend="configuringnagios-configmain-retain_state_information">&config-retain_state_information;</link>.
Valeur :
		<itemizedlist>
		<listitem><para>0 = rétention des données d'états désactivée</para></listitem>
		<listitem><para>1 = rétention des données d'états activée</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			retain_nonstatus_information
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si les informations différentes
des états de service sont conservées après redémarrage du programme. C'est
seulement utile si vous avez activé la rétention d'états en utilisant la
variable <link
linkend="configuringnagios-configmain-retain_state_information">&config-retain_state_information;</link>.
Valeur : 
		<itemizedlist>
		<listitem><para>0 = rétention des données autres que celles d'états désactivée</para></listitem>
		<listitem><para>1 = rétention des données autres que celles d'états activée</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_interval
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nombre d'<quote>unités de
temps</quote> à attendre avant de re-notifier un contact que ce service est
<emphasis>tojours</emphasis> dans un état non-OK. Sauf si vous avez changé
la variable <link
linkend="configuringnagios-configmain-interval_length">&config-interval_length;</link>
de sa valeur par défaut qui est 60, ce nombre signifie des minutes. Si vous
mettez cette valeur à 0, Nagios ne re-notifiera <emphasis>pas</emphasis> les
contacts des problèmes pour cet hôte - une seule notification de problème
sera envoyée.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			first_notification_delay
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nombre d'<quote>unités de
temps</quote> à attendre avant d'envoyer la première notification quand un
service passe dans un état non-UP. Sauf si vous avez changé la variable
<link
linkend="configuringnagios-configmain-interval_length">&config-interval_length;</link>
de sa valeur par défaut qui est 60, ce nombre signifie des minutes. Si vous
mettez cette valeur à 0, Nagios commencera à envoyer des notifications
immédiatement.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court des <link
linkend="configuringnagios-objectdefinitions-timeperiod">périodes de
temps</link> pendant lesquelles les notifications d'événements sont envoyées
aux contacts de cet service. Aucune notification ne sera envoyée hors
couverture d'une période de temps.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer quand les notifications pour ce
service doivent être envoyées. Le soptions valides sont une combinaison de
l'un ou plusieurs des états suivants :
		<itemizedlist>
		<listitem><para><emphasis role="bold">w</emphasis> = envois de notifications sur état
WARNING</para></listitem> 
		<listitem><para><emphasis role="bold">u</emphasis> = envois de notifications sur état
UNKNOWN</para></listitem> 
		<listitem><para><emphasis role="bold">c</emphasis> = envois de notifications sur état
CRITICAL</para></listitem>
		<listitem><para><emphasis role="bold">r</emphasis> = envois de notifications sur état OK</para></listitem>
		<listitem><para><emphasis role="bold">f</emphasis> = envois de notifications quand le
service commence ou s'arrête d'<link
linkend="advancedtopics-flapping">osciller</link></para></listitem>
		<listitem><para><emphasis role="bold">s</emphasis> = envois de notifications quand une
<link linkend="advancedtopics-downtime">période de maintenance
planifiée</link> commence ou se termine</para></listitem> 
		<listitem><para><emphasis role="bold">n</emphasis> (none) en option, aucune notification ne
sera envoyée. Si vous ne précisez aucune option de notification, Nagios va
partir du principe que les notifications doivent être envoyées pour tout
changement d'état possible.</para></listitem>
		</itemizedlist>
	
		<informalexample>
		<para>
        Si vous précisez<emphasis role="bold">w,r</emphasis>dans ce champ, les
notifications seront envoyées uniquement quand le service passera en état
WARNING ou qu'il sortira de cet état WARNING.
		</para>
		</informalexample>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notifications_enabled <link
linkend="configuringnagios-objectdefinitions-retention_notes">*</link>
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si les notifications pour ce
service sont activées ou non. Valeurs : 
		<itemizedlist>
		<listitem><para>0 = notifications sur les services désactivées</para></listitem>
		<listitem><para>1 = notifications sur les services activées</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contacts
		</term>
		<listitem>
		<para>C'est une liste des <emphasis>noms courts</emphasis> des <link
linkend="configuringnagios-objectdefinitions-contact">contacts</link> qui
devraient être notifiés quand quand il y a des problèmes (ou retours à la
normale) avec ce service. Plusieurs contacts peuvent être séparés par des
virgules. Utile si vous souhaitez envoyer des notifications vers quelques
personnes et que vous ne souhaitez pas configurer des <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link>. Vous devez préciser au moins un contact ou un groupe de
contacts dans chaque définition de service.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contact_groups
		</term>
		<listitem>
		<para>C'est une liste des <emphasis>noms courts</emphasis> des <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link> qui devraient être notifiés quand quand il y a des problèmes
(ou retours à la normale) avec ce service. Plusieurs groupes de contacts
peuvent être séparés par des virgules. Vous devez préciser au moins un
contact ou un groupe de contacts dans chaque définition de service.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			stalking_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer quelles
<quote>mémorisation</quote> d'états est utilisée pour le service. Les
options valides sont une combinaison d'un ou ou de plusieurs des états
suivants : 
		<itemizedlist>
		<listitem><para>o = mémorisation sur états OK</para></listitem>
		<listitem><para>w = mémorisation sur états WARNING</para></listitem>
        <listitem><para>u = mémorisation sur états UNKNOWN</para></listitem>
		<listitem><para>c = mémorisation sur états CRITICAL</para></listitem>
		</itemizedlist>
		Plus d'informations sur la mémorisation d'états peut être trouvée <link
linkend="advancedtopics-stalking">ici</link>.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser une note d'information à rattacher
au service. Si vous avez précisée une note ici, vous la verrez dans le &acronym-cgi;
<link linkend="thebasics-cgis-extinfo_cgi">des informations étendues</link>
(quand vous regardez les informations de service spécifié).
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
informations supplémentaires sur le service. Si vous précisez une URL, vous
verrez une icône de dossier rouge dans les &acronym-cgi;s (quand vous regardez les
informations de l'hôte) qui renverra vers l'URL précisée ici. N'importe
quelle URL valide peut être utilisé. Si vous pensez utiliser des chemins
relatifs, le chemin de base sera le même que celui utilisé pour accéder aux
&acronym-cgi;s (par exemple <emphasis>/cgi-bin/nagios/</emphasis>). Peut être utile si
vous souhaitez mettre à disposition d'autres équipes de support les
informations détaillées d'un service, les moyens de contacts à utiliser en
cas d'urgence, etc.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			action_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
actions supplémentaires à appliquer au service. Si vous précisez une URL,
vous verrez une icône <quote>splat</quote> rouge dans les &acronym-cgi;s (quand vous
regardez les informations du service) qui renverra vers l'URL précisée
ici. N'importe quelle URL valide peut être utilisé. Si vous pensez utiliser
des chemins relatifs, le chemin de base sera le même que celui utilisé pour
accéder aux &acronym-cgi;s (par exemple <emphasis>/cgi-bin/nagios/</emphasis>).
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			icon_image
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nom d'une image au format GIF,
PNG ou JPG à associer au service. Cette image sera affichée dans les &acronym-cgi;s
<link linkend="thebasics-cgis-status_cgi">status</link> et <link
linkend="thebasics-cgis-extinfo_cgi">extended information</link>. Le rendu
de l'image sera maximal si celle-ci est au format 40x40 pixels. Les images
des services sont censées se trouver dans le sous-répertoire <emphasis
role="strong">logos/</emphasis> de votre dossier d'images HTML (par exemple
<filename
class="directory">/usr/local/nagios/share/images/logos</filename>).
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			icon_image_alt
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une chaîne de caractère optionnelle
à utiliser dans l'attribut ALT de l'image précisée par l'argument
<emphasis>&lt;icon_image&gt;</emphasis>. L'attribut ALT peut être utilisé
dans les &acronym-cgi;s <link linkend="thebasics-cgis-status_cgi">status</link>, <link
linkend="thebasics-cgis-extinfo_cgi">extended information</link> et <link
linkend="thebasics-cgis-statusmap_cgi">statusmap</link>.
		</para>
		</listitem>
	</varlistentry>
	</variablelist>
    
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-servicegroup" />Définition
de groupe de services</title>

   <section>
    <title>Description</title>

    <para>Une définition de groupe d'hôtes est utilisée pour grouper un ou plusieurs
services ensemble de façon à simplifier la configuration avec les <link
linkend="advancedtopics-objecttricks">trucs et astuces sur les objets</link>
ou pour des besoins de visualisation dans les <link
linkend="thebasics-cgis">CGIs</link>.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define servicegroup{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>servicegroup_name</para></entry>
        <entry><para><emphasis>servicegroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>alias</para></entry>
        <entry><para><emphasis>alias</emphasis></para></entry>
       </row>

       <row>
        <entry><para>members</para></entry>
        <entry><para><emphasis>services</emphasis></para></entry>
       </row>

       <row>
        <entry><para>servicegroup_members</para></entry>
        <entry><para><emphasis>servicegroups</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes</para></entry>
        <entry><para><emphasis>note_string</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>action_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>    
define servicegroup{
   servicegroup_name    dbservices
   alias          Database Services
   members         ms1,SQL Server,ms1,SQL Serverc Agent,ms1,SQL DTC
}
</programlisting>
   </section>

   <section>
    <title>Description des variables : </title>
	<variablelist>
		<varlistentry>
		<term>
			servicegroup_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir un nom court pour identifier le
groupe de services.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			alias
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir un nom long ou une description
identifiant le groupe de services. Cela permet d'identifier plus facilement
un groupe de services en particulier.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			members
		</term>
		<listitem>
		<para>C'est une liste de <emphasis>noms courts</emphasis> de <link
linkend="configuringnagios-objectdefinitions-service">service</link> (et le
nom des hôtes correspondants) qui doivent faire partie de ce
groupe. Plusieurs noms d'hôtes et de services peuvent être séparés par des
virgules. Cette variable peut être utilisée comme une alternative (ou en
complément) à la variable <emphasis>servicegroups</emphasis> dans les <link
linkend="configuringnagios-objectdefinitions-service">définitions de
service</link>. Le format de la variable <varname>member</varname> est le
suivant (notez qu ele nom d el'hôte doit précéder le nom/description du
service) :
		<programlisting>
members=&lt;host1&gt;,&lt;service1&gt;,&lt;host2&gt;,&lt;service2&gt;,…,&lt;host<emphasis>n</emphasis>&gt;,&lt;service<emphasis>n</emphasis>&gt;
		</programlisting>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			servicegroup_members
		</term>
		<listitem>
		<para>Cette variable optionnelle peut être utilisée pour inclure des services
depuis des <quote>sous</quote>-groupes dans ce groupe de services. Précisez
une liste séparée par des virgules de noms courts d'autres groupes de
services à inclure dans ce groupe.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser une note d'information à rattacher
au groupe de service. Si vous avez précisée une note ici, vous la verrez
dans le &acronym-cgi; <link linkend="thebasics-cgis-extinfo_cgi">des informations
étendues</link> (quand vous regardez les informations d'un groupe de
services spécifié).
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
informations supplémentaires sur le groupe de services. Si vous précisez une
URL, vous verrez une icône de dossier rouge dans les &acronym-cgi;s (quand vous
regardez les informations de groupe de services) qui renverra vers l'URL
précisée ici. N'importe quelle URL valide peut être utilisé. Si vous pensez
utiliser des chemins relatifs, le chemin de base sera le même que celui
utilisé pour accéder aux &acronym-cgi;s (par exemple
<emphasis>/cgi-bin/nagios/</emphasis>). Peut être utile si vous souhaitez
mettre à disposition d'autres équipes de support les informations détaillées
d'un hôte, les moyens de contacts à utiliser en cas d'urgence, etc.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			action_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
actions supplémentaires à appliquer au groupe de services. Si vous précisez
une URL, vous verrez une icône <quote>splat</quote> rouge dans les &acronym-cgi;s
(quand vous regardez les informations du groupe de services) qui renverra
vers l'URL précisée ici. N'importe quelle URL valide peut être utilisé. Si
vous pensez utiliser des chemins relatifs, le chemin de base sera le même
que celui utilisé pour accéder aux &acronym-cgi;s (par exemple
<emphasis>/cgi-bin/nagios/</emphasis>).
		</para>
		</listitem>
	</varlistentry>
	</variablelist>

	</section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-contact" />Définition de
contact</title>

   <section>
    <title>Description</title>

    <para>La définition de contact est utilisée pour identifer quelqu'un qui doit être
contacté dans le cas de problèmes sur votre réseau. Les différents arguments
d'une définition de contact sont décrits ci-dessou.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define contact{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>contact_name</para></entry>
        <entry><para><emphasis>contact_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>alias</para></entry>
        <entry><para><emphasis>alias</emphasis></para></entry>
       </row>

       <row>
        <entry><para>contactgroups</para></entry>
        <entry><para><emphasis>contactgroup_names</emphasis></para></entry>
       </row>

       <row>
        <entry><para>host_notifications_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>service_notifications_enabled</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>host_notification_period</para></entry>
        <entry><para><emphasis>timeperiod_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>service_notification_period</para></entry>
        <entry><para><emphasis>timeperiod_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>host_notification_options</para></entry>
        <entry><para>[d,u,r,f,s,n]</para></entry>
       </row>

       <row>
        <entry><para>service_notification_options</para></entry>
        <entry><para>[w,u,c,r,f,s,n]</para></entry>
       </row>

       <row>
        <entry><para>host_notification_commands</para></entry>
        <entry><para><emphasis>command_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>service_notification_commands</para></entry>
        <entry><para><emphasis>command_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>email</para></entry>
        <entry><para><emphasis>email_address</emphasis></para></entry>
       </row>

       <row>
        <entry><para>pager</para></entry>
        <entry><para><emphasis>pager_number ou pager_email_gateway</emphasis></para></entry>
       </row>

       <row>
        <entry><para>address<emphasis>x</emphasis></para></entry>
        <entry><para><emphasis>additional_contact_address</emphasis></para></entry>
       </row>

       <row>
        <entry><para>can_submit_commands</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>retain_status_information</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>retain_nonstatus_information</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>
define contact{
   contact_name          jdoe
   alias              John Doe
   host_notifications_enabled   1
   service_notifications_enabled  1
   service_notification_period   24x7
   host_notification_period    24x7
   service_notification_options  w,u,c,r
   host_notification_options    d,u,r
   service_notification_commands  notify-by-email
   host_notification_commands   host-notify-by-email
   email              jdoe@localhost.localdomain
   pager              555-5555@pagergateway.localhost.localdomain
   address1            xxxxx.xyyy@icq.com
   address2            555-555-5555
   can_submit_commands       1
}
	</programlisting>
   </section>

   <section>
    <title>Description des variables</title>

	<variablelist>
	<varlistentry>
		<term>
			contact_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir un nom court pour identifer le
contact. Ceci est référencé dans les définitions de <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link>. Dans les bonnes circonstances, la <link
linkend="thebasics-macros">macro</link> &macro-contactname; contiendra cette
valeur.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			alias
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir un nom long ou une description
identifiant le contact. Dans les bonnes circonstances, la <link
linkend="thebasics-macros">macro</link> &macro-contactname; contiendra cette
valeur. Si non précisée, la variable <emphasis>contact_name</emphasis> sera
utilisé comme alias.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contactgroups
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> des <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link> auxquels appartient ce contact. Plusieurs noms de groupes
doivent être séparés par des virgules. Cette variable peut être utilisée
comme alternative (ou en complément) à la variable
<emphasis>members</emphasis> des définitions de <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			host_notifications_enabled
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si un contact recevra ou non des
notifications à propos des problèmes d'hôtes et des retours à la
normale. Valeurs :
		<itemizedlist>
		<listitem><para>0 = Envois des notifications désactivés</para></listitem>
		<listitem><para>1 = Envois des notifications activés</para></listitem>
		</itemizedlist>
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			service_notifications_enabled
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si un contact recevra ou non des
notifications à propos des problèmes de services et des retours à la
normale. Valeurs : 
		<itemizedlist>
		<listitem><para>0 = Envois des notifications désactivés</para></listitem>
		<listitem><para>1 = Envois des notifications activés</para></listitem>
		</itemizedlist>
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			host_notification_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court d'une <link
linkend="configuringnagios-objectdefinitions-timeperiod">période de
temps</link> pendant laquelle un contact peut être notifié des problèmes
d'hôtes et des retours à la normale. Vous pouvez penser à ceci comme une
heure <quote>d'appel</quote> du contact pour les notifications
d'hôtes. Lisez la documentation sur les <link
linkend="thebasics-timeperiods">périodes de temps</link> pour plus
d'informations sur le fonctionnement de celles-ci et sur les problèmes
pouvant survenir en cas d'utilisation incorrecte de celles-ci.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			service_notification_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court d'une <link
linkend="configuringnagios-objectdefinitions-timeperiod">période de
temps</link> pendant laquelle un contact peut être notifié des problèmes de
services et des retours à la normale. Vous pouvez penser à ceci comme une
heure <quote>d'appel</quote> du contact pour les notifications de
services. Lisez la documentation sur les <link
linkend="thebasics-timeperiods">périodes de temps</link> pour plus
d'informations sur le fonctionnement de celles-ci et sur les problèmes
pouvant survenir en cas d'utilisation incorrecte de celles-ci.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			host_notification_commands
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser les <emphasis>noms
courts</emphasis> de <link
linkend="configuringnagios-objectdefinitions-command">commandes</link> à
utiliser pour notifier le contact des problèmes d'<emphasis>hôtes</emphasis>
et des retours à la normale. Plusieurs notifications peuvent être séparés
par des virgules. Toutes les commandes de notification sont exécutées quand
les contacts ont besoin d'être notifiés. Le durée maximale d'exécution de la
commande est contrôlée par l'option <link
linkend="configuringnagios-configmain-notification_timeout">&config-notification_timeout;</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			host_notification_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les états d'hôtes pour lesquels des
notifications peuvent être envoyées à ce contact. Les options valides sont
une combinaison d'un ou de plusieurs des états suivants :
		<itemizedlist>
		<listitem><para>d = notification sur les hôtes en états DOWN</para></listitem>
		<listitem><para>u = notification sur les hôtes en états UNREACHABLE</para></listitem>
		<listitem><para>r = notification quand un hôte retourne à la normale (états UP)</para></listitem>
		<listitem><para>f = notification quand un hôte commence ou s'arrête d'<link
linkend="advancedtopics-flapping">osciller</link>,</para></listitem>
        <listitem><para>s = envoi de notifications quand un hôte ou service entre ou sort de période
de <link linkend="advancedtopics-downtime">maintenance planifiée</link>. Si
vous précisez <emphasis role="bold">n</emphasis> (null) comme option, le
contact ne recevra aucun type de notifications d'hôtes.</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			service_notification_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les états de services pour lesquels
des notifications peuvent être envoyées à ce contact. Les options valides
sont une combinaison d'un ou de plusieurs des états suivants :
		<itemizedlist>
		<listitem><para>w = notification sur états WARNING de service</para></listitem>
		<listitem><para>u = notification sur états UNKNOWN de service</para></listitem>
        <listitem><para>c = notification sur états CRITICAL de service</para></listitem>
		<listitem><para>r = notification sur états OK</para></listitem>
		<listitem><para>f = notification quand le service commence et s'arrête d'<link
linkend="advancedtopics-flapping">osciller</link>.</para></listitem>
        <listitem><para>n = (none) : Le contact ne recevra aucun type de notifications de services</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			service_notification_commands
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser les <emphasis>noms
courts</emphasis> de <link
linkend="configuringnagios-objectdefinitions-command">commandes</link> à
utiliser pour notifier le contact des problèmes
de<emphasis>services</emphasis> et des retours à la normale. Plusieurs
notifications peuvent être séparés par des virgules. Toutes les commandes de
notification sont exécutées quand les contacts ont besoin d'être
notifiés. Le durée maximale d'exécution de la commande est contrôlée par
l'option <link
linkend="configuringnagios-configmain-notification_timeout">&config-notification_timeout;</link>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			email
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une adresse email pour le
contact. En fonction de la façon dont vous avez configuré les commandes de
notifications, cela peut être utilisé pour envoyer une alerte par email au
contact. Dans les bonnes circonstances, la <link
linkend="thebasics-macros">macro</link> &macro-contactemail; contiendra cette
valeur.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			pager
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une adresse de pager pour le
contact. Cela peut également être une adresse email de passerelle mail/pager
(par exemple <ulink
url="mailto:pagejoe@pagenet.com">pagejoe@pagenet.com</ulink>). En fonction
de la façon dont vous avez configuré les commandes de notifications, cela
peut être utilisé pour envoyer une alerte par pager au contact. Dans les
bonnes circonstances, la <link linkend="thebasics-macros">macro</link>
&macro-contactpager; contiendra cette valeur.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			address<emphasis>x</emphasis>
		</term>
		<listitem>
		<para>Les variables <varname>Address</varname> sont utilisées pour définir des
<quote>adresses</quote> supplémentaires pour le contact. Ces adresses
peuvent être n'importe quoi - numéro de téléphone mobile, adresse de
messagerie instantanée, etc. En fonction de la façon dont vous avez
configuré les commandes de notifications, cela peut être utilisé pour
envoyer une alerte au contact. Il est possible de définir jusqu'à six
adresses en utilisant ces variables (<emphasis>address1</emphasis> jusqu'à
<emphasis>address6</emphasis>). La <link
linkend="thebasics-macros">macro</link>
<literal>$CONTACTADDRESS</literal><emphasis>x</emphasis><varname>$</varname> contiendra cette valeur.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			can_submit_commands
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer si le contact peut ou non
exécuter des <link linkend="advancedtopics-extcommands">commandes
externes</link> à Nagios depuis les &acronym-cgi;s. Valeurs :
		<itemizedlist>
		<listitem><para>0 = ne pas autoriser le contact à soumettre des commandes</para></listitem>
		<listitem><para>1 = autoriser le contact à soumettre des commandes.</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			retain_status_information
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si les informations relatives aux
états du contact sont conservées ou non après redémarrage du
programme. C'est seulement utile si vous avez activé la rétention d'états en
utilisant la variable <link
linkend="configuringnagios-configmain-retain_state_information">&config-retain_state_information;</link>.
Valeur :
		<itemizedlist>
		<listitem><para>0 = rétention des données d'états désactivée</para></listitem>
		<listitem><para>1 = rétention des données d'états activée</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			retain_nonstatus_information
		</term>
		<listitem>
		<para>Cette variable est utlisée pour déterminer si les informations différentes
des états du contact sont conservées après redémarrage du programme. C'est
seulement utile si vous avez activé la rétention d'états en utilisant la
variable <link
linkend="configuringnagios-configmain-retain_state_information">&config-retain_state_information;</link>.
Valeur :
		<itemizedlist>
		<listitem><para>0 = rétention des données autres que celles d'états désactivée</para></listitem>
        <listitem><para>1 = rétention des données autres que celles d'états activée</para></listitem>
		</itemizedlist>
		</para>
		</listitem>
	</varlistentry>
	</variablelist>
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-contactgroup" />Définition
de groupe de contacts</title>

   <section>
    <title>Description</title>

    <para>Une définition de groupe de contacts est utilisée pour grouper un ou
plusieurs <link
linkend="configuringnagios-objectdefinitions-contact">contacts</link>
ensemble de façon à envoyer les <link
linkend="thebasics-notifications">notifications</link> pour problèmes et
retours à la normale.</para>
   </section>

   <section>
    <title>Format de définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define contactgroup{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>contactgroup_name</para></entry>
        <entry><para><emphasis>contactgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>alias</para></entry>
        <entry><para><emphasis>alias</emphasis></para></entry>
       </row>

       <row>
        <entry><para>members</para></entry>
        <entry><para><emphasis>contacts</emphasis></para></entry>
       </row>

       <row>
        <entry><para>contactgroup_members</para></entry>
        <entry><para><emphasis>contactgroups</emphasis></para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition :</title>

    <programlisting>    
define contactgroup{
   contactgroup_name    novell-admins
   alias          Novell Administrators
   members         jdoe,rtobert,tzach
}</programlisting>
   </section>

   <section>
    <title>Description des variables : </title>

	<variablelist>
	<varlistentry>
		<term>
			contactgroup_name
		</term>
		<listitem>
		<para>Cette variable est un nom court utilisé pour identifier le groupe de
contacts.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			alias
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir un nom long ou une description
identifiant le groupe de contacts.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			members
		</term>
		<listitem>
		<para>C'est une liste de <emphasis>noms courts</emphasis> de <link
linkend="configuringnagios-objectdefinitions-contact">contact</link> qui
doivent faire partie de ce groupe. Plusieurs noms de contacts peuvent être
séparés par des virgules. Cette variable peut être utilisée comme une
alternative (ou en complément) à la variable
<emphasis>contactgroups</emphasis> dans les <link
linkend="configuringnagios-objectdefinitions-contact">définitions de
contact</link>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contactgroup_members
		</term>
		<listitem>
		<para>Cette variable optionnelle peut être utilisée pour inclure des contacts
depuis des <quote>sous</quote>-groupes dans ce groupe de contacts. Précisez
une liste séparée par des virgules de noms courts d'autres groupes de
contacts à inclure dans ce groupe.
		</para>
		</listitem>
	</varlistentry>
	</variablelist>
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-timeperiod" xreflabel="Time
Period Definition" />Définition de période de temps</title>

   <section>
    <title>Description</title>
    <para>
	Une période de temps est une liste de plages horaires comprises sur
plusieurs jours qui sont considérées comme <quote>valides</quote> pour les
notifications et les contrôles de services. Cela consiste en plages horaires
définies pour chaque jour de la semaine qui <quote>tournent</quote> une fois
la semaine finie. Différents types d'exceptions aux heurs normales de la
semaine sont supportées : jours de la semaine en particulier, jours de mois
généraux à tous le smois, jours de certains mois et dates de calendrier.
	</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define timeperiod{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>timeperiod_name</para></entry>
        <entry><para><emphasis>timeperiod_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>alias</para></entry>
        <entry><para><emphasis>alias</emphasis></para></entry>
       </row>

       <row>
        <entry><para>[weekday]</para></entry>
        <entry><para><emphasis>timeranges</emphasis></para></entry>
       </row>

       <row>
        <entry><para>[exception]</para></entry>
        <entry><para><emphasis>timeranges</emphasis></para></entry>
       </row>

       <row>
        <entry><para>exclusion</para></entry>
        <entry><para>[<emphasis>timeperiod1,timeperiod2,…,timeperiodn</emphasis>]</para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemples de définitions</title>

        <programlisting>
define timeperiod{
   timeperiod_name     nonworkhours
   alias          Non-Work Hours
   sunday         00:00-24:00       ; Every Sunday of every week
   monday         00:00-09:00,17:00-24:00 ; Every Monday of every week
   tuesday         00:00-09:00,17:00-24:00 ; Every Tuesday of every week
   wednesday        00:00-09:00,17:00-24:00 ; Every Wednesday of every week
   thursday        00:00-09:00,17:00-24:00 ; Every Thursday of every week
   friday         00:00-09:00,17:00-24:00 ; Every Friday of every week
   saturday        00:00-24:00       ; Every Saturday of every week
}

define timeperiod{
   timeperiod_name     misc-single-days
   alias          Misc Single Days
   1999-01-28       00:00-24:00       ; January 28th, 1999
   monday 3        00:00-24:00       ; 3rd Monday of every month
   day 2          00:00-24:00       ; 2nd day of every month
   february 10       00:00-24:00       ; February 10th of every year
   february -1       00:00-24:00       ; Last day in February of every year
   friday -2        00:00-24:00       ; 2nd to last Friday of every month
   thursday -1 november  00:00-24:00       ; Last Thursday in November of every year
}

define timeperiod{
   timeperiod_name         misc-date-ranges
   alias              Misc Date Ranges
   2007-01-01 - 2008-02-01     00:00-24:00   ; January 1st, 2007 to February 1st, 2008
   monday 3 - thursday 4      00:00-24:00   ; 3rd Monday to 4th Thursday of every month
   day 1 - 15           00:00-24:00   ; 1st to 15th day of every month
   day 20 - -1           00:00-24:00   ; 20th to the last day of every month
   july 10 - 15          00:00-24:00   ; July 10th to July 15th of every year
   april 10 - may 15        00:00-24:00   ; April 10th to May 15th of every year
   tuesday 1 april - friday 2 may 00:00-24:00   ; 1st Tuesday in April to 2nd Friday in May of every year
}

define timeperiod{
   timeperiod_name           misc-skip-ranges
   alias                Misc Skip Ranges
   2007-01-01 - 2008-02-01 / 3     00:00-24:00  ; Every 3 days from January 1st, 2007 to February 1st, 2008
   2008-04-01 / 7            00:00-24:00  ; Every 7 days from April 1st, 2008 (continuing forever)
   monday 3 - thursday 4 / 2      00:00-24:00  ; Every other day from 3rd Monday to 4th Thursday of every month
   day 1 - 15 / 5            00:00-24:00  ; Every 5 days from the 1st to the 15th day of every month
   july 10 - 15 / 2           00:00-24:00  ; Every other day from July 10th to July 15th of every year
   tuesday 1 april - friday 2 may / 6  00:00-24:00  ; Every 6 days from the 1st Tuesday in April to the 2nd Friday in May of every year
}
</programlisting>
   </section>

   <section>
    <title>Description des variables</title>

	<variablelist>
		<varlistentry>
			<term>
				timeperiod_name
			</term>
			<listitem>
			<para>Cette variable est un nom court utilisé pour identifer la période de temps.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>
				alias
			</term>
			<listitem>
			<para>Cette variable est utilisée pour définir un nom long ou une description
identifiant la période de temps. </para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>
				[weekday]
			</term>
			<listitem>
			<para>Les variables de jours de la semaine
(<quote><emphasis>sunday</emphasis></quote> à
<quote><emphasis>saturday</emphasis></quote>) sont des listes séparées par
des virgules de périodes de temps <quote>valides</quote> pour un jour
particulier de la semaine. Notez qu'il y a sept jours différents pour
lesquels vous définir des périodes de temps (dimanche à lundi). Chaque
période de temps est sous la forme <emphasis
role="bold">HH:MM-HH:MM</emphasis>, où les heures sont indiquées sur 24
heures. Par exemple, <emphasis role="bold">00:15-24:00</emphasis> indique
12:15am le matin pour ce jour jusqu'à 12:00am minuit (une période de temps
total de 23 heures 45 minutes). Si vous souhaitez exclure un jour entier de
la période de temps, il suffit simplement de ne pas l'inclure dans la
définition de la période de temps.
			</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>
				[exception]
			</term>
			<listitem>
			<para>Vous pouvez préciser plusieurs types différents d'exceptions au planning
habituel de rotation des semaines. Les exceptions peuvent prendre
différentes formes comme un seul jour d'un mois particulier ou de tous les
mois, une seule semaine d'un mois ou des dates de calendrier. Vous pouvez
aussi préciser une plage de jours/dates et même préciser de sauter des
intervalles pour obtenir un fonctionnement du type <quote>tous les trois
jours entre ces dates</quote>. Plutôt que de lister tous les formats
possibles pour les exceptions, je vais vous laisser regarder les quelques
exemples de définitions de périodes de temps ci-dessus pour voir ce qui est
possible. ;-) Les jours de la semaine et d'autres types d'exceptions ont
tous des niveaux différents de précédence, aussi est-il important de
comprendre comment ils interagissent les uns les autres. Plus d'informations
sur ceci peut être trouvé dans la documentation sur les <link
linkend="thebasics-timeperiods">périodes de temps</link>.
			</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term>
				exclusion
			</term>
			<listitem>
			<para>Cette variable est utilisée pour préciser les noms courts de d'autres
périodes de temps dont les plages horaires doivent être exclues de cette
période de temps. Plusieurs périodes de temps peuvent être précisées en les
séparant par des virgules.
			</para>
			</listitem>
		</varlistentry>
	</variablelist>
	
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-command" />Définition de
commande</title>

   <section>
    <title>Description</title>

    <para>Une définition de commande n'est rien d'autre que ça. Elle définit une
commande. les commandes qui peuvent être définies sont les contrôles de
services, les notifications de services, les gestionnaires d'événements de
services, les contrôles d'hôtes, les notifications d'hôtes et les
gestionnaires d'événements d'hôtes. Les définitions de commandes peuvent
contenir des <link linkend="thebasics-timeperiods">timeperiods</link> mais
vous devez vous assurez de n'utiliser que les macros <quote>valides</quote>
dans le contexte où sera utilisée la commande. Plus d'informations sur les
macros disponibles et quand elles sont <quote>valides</quote> peut être
trouvé <link linkend="thebasics-macros">ici</link>. Les différents arguments
d'une définition de commande sont indiqués ci-dessous.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define command{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>command_name</para></entry>
        <entry><para><emphasis>command_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>command_line</para></entry>
        <entry><para><emphasis>command_line</emphasis></para></entry>
       </row>

       <row>
        <entry nameend="col_2"
        namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>    
define command{
    command_name  check_pop
    command_line  /usr/local/nagios/libexec/check_pop -H $HOSTADDRESS$    
}
	</programlisting>
   </section>

   <section>
    <title>Description des variables</title>

	<variablelist>
	<varlistentry>
		<term>
			command_name
		</term>
		<listitem>
		<para>Cette variable est un nom court utilisé pour identifier la commande. Ceci
est référencé dans les définitions de <link
linkend="configuringnagios-objectdefinitions-contact">contact</link>,
d'<link linkend="configuringnagios-objectdefinitions-host">hôte</link> et de
<link linkend="configuringnagios-objectdefinitions-service">service</link>
(dans les variables <varname>notification</varname>,
<varname>check</varname> et <varname>event handler</varname>) entre autres
endroits.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			command_line
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir ce qui est réellement exécuté par
Nagios quand la commande est utilisée pour les contrôles d'hôtes et de
services, les notifications ou les <link
linkend="advancedtopics-eventhandlers">gestionnaires
d'événements</link>. Avant que la commande ne soit exécutée, toutes les
<link linkend="thebasics-macros">macros</link> valides sont remplacées par
leurs valeurs respectives. Regardez la documentation des macros pour
déterminer quand vous pouvez utiliser différentes macros. Notez que la ligne
de commande n'est <emphasis>pas</emphasis> entourée par des
guillemets. Également à noter que si vous souhaitez passer le signe ($) sur
la ligne de commande, vous devez le protéger avec un autre signe dollar.
		</para>
		<note><para>
		Vous devriez ne pas inclure de <emphasis role="bold">point
virgule</emphasis> (;) dans la variable <emphasis>command_line</emphasis>
parce que tout ce qui se trouvera après sera considéré comme commentaire de
fichier de configuration. Vous pouvez contourner cette limitation en
initialisant une macro utilisateur <link
linkend="thebasics-macrolist-usern">&macro-usern;</link> dans votre <link
linkend="configuringnagios-configmain-resource_file">fichier de
ressource</link> avec un point virgule et en référençant ensuite cette macro
&macro-usern; dans la variable <emphasis>command_line</emphasis> à la place du
point virgule. 
		</para></note>
		<para>
		Si vous souhaitez passer des arguments aux commandes pendant l'exécution,
vous pouvez utiliser les <link linkend="thebasics-macrolist-argn">macros
&macro-argn;</link> dans la variable <emphasis>command_line</emphasis> de la
définition de commande et ensuite séparer chaque argument du nom de la
commande (et pour séparer chaque argument) avec le symbole du point
d'exclamation (!) dans les variables de définitions (commande de contrôle
d'hôte, commande de gestionnaire d'événements, etc.) qui référencent cette
commande. Plus d'informations su rla façon dont sont traités les arguments
de commande au moment de leur exécution peut être trouvé dans la
documentation sur les <link linkend="thebasics-macros">macros</link>.
		</para>
		</listitem>
	</varlistentry>
	</variablelist>
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-servicedependency"
/>Définition de dépendance de service</title>

   <section>
    <title>Description</title>

    <para>Les dépendances de services sont une fonctionnalité avancée de Nagios qui
permet de supprimer des notifications et des contrôles actifs de services en
se basant sur l'état d'un ou de plusieurs autres services. Les dépendances
de services sont optionnelles et sont principalement destinées aux
utilisateurs avancés qui ont des installations de supervision
complexes. Plus d'informations sur le focntionnement des dépendances de
services (à lire absolument!) peut être trouvée <link
linkend="advancedtopics-dependencies">ici</link>.
	</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note><para>Les variables indiquées en rouge sont obligatoires alors que celles en
noires sont optionnelles. De toute façon, vous devez préciser au moins un
type de critère pour que la définition soit d'une quelconque utilité.</para></note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define servicedependency{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>dependent_host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>dependent_hostgroup_name</para></entry>
        <entry><para><emphasis>hostgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>dependent_service_description</para></entry>
        <entry><para><emphasis>service_description</emphasis></para></entry>
       </row>

       <row>
        <entry><para>host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>hostgroup_name</para></entry>
        <entry><para><emphasis>hostgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>service_description</para></entry>
        <entry><para><emphasis>service_description</emphasis></para></entry>
       </row>

       <row>
        <entry><para>inherits_parent</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>execution_failure_criteria</para></entry>
        <entry><para>[o,w,u,c,p,n]</para></entry>
       </row>

       <row>
        <entry><para>notification_failure_criteria</para></entry>
        <entry><para>[o,w,u,c,p,n]</para></entry>
       </row>

       <row>
        <entry><para>dependency_period</para></entry>
        <entry><para>timeperiod_name</para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>
define servicedependency{
   host_name            WWW1
   service_description       Apache Web Server
   dependent_host_name       WWW1
   dependent_service_description  Main Web Site
   execution_failure_criteria   n
   notification_failure_criteria  w,u,c
}
</programlisting>
   </section>

   <section>
    <title>Description des variables</title>

	<variablelist>
	<varlistentry>
		<term>
			dependent_host
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> d'<link
linkend="configuringnagios-objectdefinitions-host">hôte(s)</link> sur lequel
<quote>tourne</quote> le service <emphasis>dépendant</emphasis> où avec
lequel il est associé. Plusieurs hôtes peuvent être séparés par des
virgules. Laissez cette variable vide peut être utilisé pour créer des <link
linkend="advancedtopics-objecttricks-same_host_dependency">dépendances
<quote>sur le même hôte</quote></link>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			dependent_hostgroup
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> de <link
linkend="configuringnagios-objectdefinitions-hostgroup">groupe(s)
d'hôtes</link> sur lesquels <quote>tourne</quote> le service
<emphasis>dépendant</emphasis> où avec lesquels il est associé. Plusieurs
groupes d'hôtes peuvent être séparés par des virgules. La variable
<varname>dependent_hostgroup</varname> peut être utilisé à la place ou en
conjonction avec la variable <varname>dependent_host</varname>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			dependent_service_description
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier la
<emphasis>description</emphasis> d'un <link
linkend="configuringnagios-objectdefinitions-service">service</link>
<emphasis>dépendant</emphasis>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			host_name
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> d'<link
linkend="configuringnagios-objectdefinitions-host">hôte(s)</link> sur lequel
<quote>tourne</quote> le service <emphasis>dont on dépend</emphasis> (aussi
appelé service maître) où avec lequel il est associé. Plusieurs hôtes
peuvent être séparés par des virgules.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			hostgroup_name
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> de<link
linkend="configuringnagios-objectdefinitions-hostgroup">groupe(s)
d'hôtes</link> sur lequel <quote>tourne</quote> le service <emphasis>dont on
dépend</emphasis> (aussi appelé service maître) où avec lequel il est
associé. Plusieurs groupes hôtes peuvent être séparés par des virgules. La
variable <varname>hostgroup_name</varname> peut être utilisé à la place ou
en conjonction avec la variable <varname>host_name</varname>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			service_description
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier la
<emphasis>description</emphasis> du <link
linkend="configuringnagios-objectdefinitions-service">service</link>
<emphasis>dont on dépend</emphasis> (aussi appelé service maître).
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			inherits_parent
		</term>
		<listitem>
		<para>Cette variables indique si la dépendance hérite des dépendances du service
<emphasis>dont on dépend</emphasis> (aussi appelé service maître). En
d'autres termes, si le service maître est dépendant de plusieurs autres
services et qu'une des ces dépendances échoue, alors cette dépendance
échouera également.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			execution_failure_criteria
		</term>
		<listitem>
		<para>Cette variable est utilisée pour péciser les critères qui déterminent quand
le service dépendant ne doit <emphasis>pas</emphasis> être contrôlé
activement. Si le service <emphasis>maître</emphasis> est dans un état
d'erreur que nous précisons, le service <emphasis>dépendant</emphasis> ne
sera pas contrôlé activement. Les options valides sont une combinaison d'un
ou de plusieurs des état suivants (les options multiples sont séparées par
des virgules). 
		<itemizedlist>
		<listitem><para><emphasis role="bold">o</emphasis> = erreur sur état OK</para></listitem>
		<listitem><para><emphasis role="bold">w</emphasis> = erreur sur état WARNING</para></listitem>
		<listitem><para><emphasis role="bold">u</emphasis> = erreur sur état UNKNOWN</para></listitem>
		<listitem><para><emphasis role="bold">c</emphasis> = erreur sur état CRITICAL</para></listitem>
		<listitem><para><emphasis role="bold">p</emphasis> = erreur sur état d'attente (par
exemple le service n'a pas encore été vérifié).</para></listitem> 
		<listitem><para><emphasis role="bold">n</emphasis> (none) : la dépendance d'exécution
n'échouera jamais et les contrôles du service dépendant seront toujours
faits activement (si d'autres conditions permettent de le faire).</para></listitem> 
		</itemizedlist>
		<informalexample><para>Si vous précisez <emphasis role="bold">o,c,u</emphasis> dans ce champ, le
service <emphasis>dépendant</emphasis> ne sera pas contrôlé activement si le
service <emphasis>maître</emphasis> est dans un des états OK, CRITICAL ou
UNKNOWN.
		</para></informalexample>
		</para>
		</listitem>
	</varlistentry> 
	<varlistentry>
		<term>
			notification_failure_criteria
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les critères qui déterminent quand
les notifications pour le service dépendant ne doivent
<emphasis>pas</emphasis> être envoyées. Si le service
<emphasis>maître</emphasis> est dans un des états d'erreur que nous
précisons, les notifications pour le service <emphasis>dépendants</emphasis>
ne seront pas envoyées aux contacts. Les options valides sont une
combinaison d'un ou de plusieurs des état suivants :
		<itemizedlist>
		<listitem><para><emphasis role="bold">o</emphasis> = erreur sur état OK</para></listitem>
		<listitem><para><emphasis role="bold">w</emphasis> = erreur sur état WARNING</para></listitem>
		<listitem><para><emphasis role="bold">u</emphasis> = erreur sur état UNKNOWN</para></listitem>
		<listitem><para><emphasis role="bold">c</emphasis> = erreur sur état CRITICAL</para></listitem>
		<listitem><para><emphasis role="bold">p</emphasis> = erreur sur état d'attente (par
exemple le service n'a pas encore été vérifié).</para></listitem>
		<listitem><para> <emphasis role="bold">n</emphasis> (none) : la dépendance de notification
n'échouera jamais et les notifications du service dépendant seront toujours
envoyées.</para></listitem>
		</itemizedlist>
		<informalexample>
		<para>
		Si vous précisez <emphasis role="bold">w</emphasis> dans ce champ, les
notifications pour le service <emphasis>dépendant</emphasis> ne seront pas
envoyées si le service <emphasis>maître</emphasis> est dans un état WARNING.
		</para>
		</informalexample>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			dependency_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court d'une <link
linkend="configuringnagios-objectdefinitions-timeperiod">période de
temps</link> pendant laquelle les dépendances sont valides. Si cette
variable est vide, les dépendances seront considérées comme valides tout le
temps.</para>
		</listitem>
	</varlistentry>
	</variablelist>
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-serviceescalation"
/>Définition d'escalade de service</title>

   <section>
    <title>Description</title>

    <para>Les escalades de services sont complètement optionnelles et sont utilisées
pour escalader les notifications d'un service particulier. Plus
d'informations sur le fonctionnement des escalades peut être trouvé <link
linkend="advancedtopics-escalations">ici</link>.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define serviceescalation{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>hostgroup_name</para></entry>
        <entry><para><emphasis>hostgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>service_description</para></entry>
        <entry><para><emphasis>service_description</emphasis></para></entry>
       </row>

       <row>
        <entry><para>contacts</para></entry>
        <entry><para><emphasis>contacts</emphasis></para></entry>
       </row>

       <row>
        <entry><para>contact_groups</para></entry>
        <entry><para><emphasis>contactgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>first_notification</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>last_notification</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>notification_interval</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>escalation_period</para></entry>
        <entry><para>timeperiod_name</para></entry>
       </row>

       <row>
        <entry><para>escalation_options</para></entry>
        <entry><para>[w,u,c,r]</para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>
define serviceescalation{
   host_name        nt-3
   service_description   Processor Load
   first_notification   4
   last_notification    0
   notification_interval  30
   contact_groups     all-nt-admins,themanagers
}
	</programlisting>
   </section>

   <section>
    <title>Description des variables</title>

	<variablelist>
	<varlistentry>
		<term>
			host_name
		</term>
		<listitem>
		<para>La variable est utilisée pour identifer le(s) <emphasis>nom(s)
court(s)</emphasis> de(s) <link
linkend="configuringnagios-objectdefinitions-host">hôte(s)</link> pour
lesquel(s) l'escalade de <link
linkend="configuringnagios-objectdefinitions-service">service</link> doit
s'appliquer ou auquel(s) il est associé.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			hostgroup_name
		</term>
		<listitem>
		<para>La variable est utilisée pour identifer le(s) <emphasis>nom(s)
court(s)</emphasis> des <link
linkend="configuringnagios-objectdefinitions-hostgroup">groupe(s)
d'hôtes</link> pour lesquel(s) l'escalade de <link
linkend="configuringnagios-objectdefinitions-service">service</link> doit
s'appliquer ou auquel(s) il est associé. Plusieurs groupes hôtes peuvent
être séparés par des virgules. La variable <varname>hostgroup_name</varname>
peut être utilisé à la place ou en conjonction avec la variable
<varname>host_name</varname>.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			service_description
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier la
<emphasis>description</emphasis> du <link
linkend="configuringnagios-objectdefinitions-service">service</link> pour
lequel s'applique l'escalade.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			first_notification
		</term>
		<listitem>
		<para>Cette variable est un nombre identifiant la <emphasis>première</emphasis>
notification pour laquelle l'esacalade est effective. Par exemple, si vous
mettez cette valeur à 3, cette esacalade sera seulement utilisée si le
service est dans un état non-OK depuis suffisamment longtemps pour qu'une
troisième notification soit envoyée.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			last_notification
		</term>
		<listitem>
		<para>Cette variable est un nombre identifiant la <emphasis>dernière</emphasis>
notification pour laquelle l'escalade est effective. Par exemple, si vous
mettez cette valeur à 5, cette escalade ne sera pas utilisée si plus de cinq
notifications ont été envoyées pour le service. Mettre cette valeur à 0
précise de continuer à utiliser cette escalade sans fin (peu importe le
nombre de notifications envoyées).
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contacts
		</term>
		<listitem>
		<para>Cette une liste de <emphasis>noms courts</emphasis> de <link
linkend="configuringnagios-objectdefinitions-contact">contacts</link> à
notifier à chaque fois qu'il y a des problèmes (ou des retours à la normale)
avec ce service. Plusieurs contacts peuvent être précisés en les séparant
par des virgules. Utile si vous souhaitez envoyer des notifications vers
quelques personnes et que vous ne souhaitez pas configurer des <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link>. Vous devez préciser au moins un contact ou un groupe de
contacts dans chaque définition d'escalade de service.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contact_groups
		</term>
		<listitem>
		<para>Cette une liste de <emphasis>noms courts</emphasis> de <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link> à notifier à chaque fois que ce service est
escaladé. Plusieurs groupes de contacts peuvent être précisés en les
séparant par des virgules. Vous devez préciser au moins un contact ou un
groupe de contacts dans chaque définition d'escalade de service.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_interval
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer l'intervalle auquel envoyer les
notifications pendant que l'escalade est valide. Si vous précisez une valeur
de 0 pour cet intervalle, Nagios va envoyer la première notification quand
la définition d'escalade est valide mais prendra soin de ne plus envoyer
aucune notification de problème pour l'hôte. Les notification sont renvoyés
quand l'hôte revient à la normale. Utile si vous souhaitez arrêter l'envoi
des notifications après un certain temps.</para>
		<note><para>Si de multiples entrées d'escalade pour un hôte se chevauchent sur une ou
plusieurs plages de notificitions, le plus petit des intervalles de
notification pour toutes les escalades sera utilisé.</para></note>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			escalation_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court d'une <link
linkend="configuringnagios-objectdefinitions-timeperiod">période de
temps</link> pendant laquelle les escalades sont valides. Si cette variable
est vide, les escalades seront considérées comme valides tout le temps.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			escalation_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les critères qui déterminent si une
escalade de service doit être utilisé. L'escalade est seulement utilisée si
le service est dans un des états précisés dans cette variable. Si cette
variable n'est pas précisée dans la définition d'escalade de service,
l'escalade est considérée comme valide pendant l'ensemble des états du
service. Les options valides osnt une combinaison de l'un ou de plusieurs de
ces états : 
		<itemizedlist>
		<listitem><para><emphasis role="bold">r</emphasis> = escalade sur un état OK (retour à la
normale)</para></listitem>
		<listitem><para><emphasis role="bold">w</emphasis> = escalade sur un état WARNING</para></listitem>
		<listitem><para><emphasis role="bold">u</emphasis> = escalade sur un état UNKNOWN</para></listitem>
		<listitem><para><emphasis role="bold">c</emphasis> = escalade sur un état CRITICAL </para></listitem>
		</itemizedlist>
		<informalexample><para>Si vous précisez <emphasis role="bold">w</emphasis> dans ce champ,
l'esaclade sera seulement utilisée quand le service es ten état WARNING.</para></informalexample>
		</para>
		</listitem>
	</varlistentry>
	</variablelist>
	</section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-hostdependency"
/>Définitions de dépendance d'hôte</title>

   <section>
    <title>Description</title>

    <para>Les dépendances de services sont une fonctionnalité avancée de Nagios qui
permet de supprimer des notifications et des contrôles actifs d'hôtes en se
basant sur l'état d'un ou de plusieurs autres hôtes. Les dépendances d'hôtes
sont optionnelles et sont principalement destinées aux utilisateurs avancés
qui ont des installations de supervision complexes. Plus d'informations sur
le focntionnement des dépendances de services (à lire absolument!) peut être
trouvée <link linkend="advancedtopics-dependencies">ici</link>.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define hostdependency{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>dependent_host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>dependent_hostgroup_name</para></entry>
        <entry><para><emphasis>hostgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>hostgroup_name</para></entry>
        <entry><para><emphasis>hostgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>inherits_parent</para></entry>
        <entry><para>[0/1]</para></entry>
       </row>

       <row>
        <entry><para>execution_failure_criteria</para></entry>
        <entry><para>[o,d,u,p,n]</para></entry>
       </row>

       <row>
        <entry><para>notification_failure_criteria</para></entry>
        <entry><para>[o,d,u,p,n]</para></entry>
       </row>

       <row>
        <entry><para>dependency_period</para></entry>
        <entry><para>timeperiod_name</para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>
define hostdependency{
   host_name            WWW1
   dependent_host_name       DBASE1
   notification_failure_criteria  d,u
}
   </programlisting>
   </section>

   <section>
    <title>Description des variables</title>

	<variablelist>
	<varlistentry>
		<term>
			dependent_host_name
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier la
<emphasis>description</emphasis> d'un <link
linkend="configuringnagios-objectdefinitions-host">hôte</link>
<emphasis>dépendant</emphasis>. Plusieurs hôtes peuvent être séparés par des
virgules.
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			dependent_hostgroup_name
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> de <link
linkend="configuringnagios-objectdefinitions-hostgroup">groupes
d'hôtes</link> <emphasis>dépendants</emphasis>. Plusieurs groupes d'hôtes
peuvent être séparés par des virgules. La variable
<varname>dependent_hostgroup_name</varname> peut être utilisé à la place ou
en conjonction avec la variable <varname>dependent_host_name</varname>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			host_name
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier la
<emphasis>description</emphasis> d'un <link
linkend="configuringnagios-objectdefinitions-host">hôte</link> <emphasis>don
on dépend</emphasis> (aussi appelé hôte maître). Plusieurs hôtes peuvent
être séparés par des virgules.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			hostgroup_name
		</term>
		<listitem>
		<para>Cette variables est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> de <link
linkend="configuringnagios-objectdefinitions-hostgroup">groupes
d'hôtes</link> <emphasis>dont on dépend</emphasis> (aussi appelé hôte
maître). Plusieurs groupes d'hôtes peuvent être séparés par des virgules. La
variable <varname>hostgroup_name</varname> peut être utilisé à la place ou
en conjonction avec la variable <varname>host_name</varname>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			inherits_parent
		</term>
		<listitem>
		<para>Cette variables indique si la dépendance hérite des dépendances de l'hôte
<emphasis>dont on dépend</emphasis> (aussi appelé hôte maître). En d'autres
termes, si l'hôte maître est dépendant de plusieurs autres hôtes et qu'une
des ces dépendances échoue, alors cette dépendance échouera également.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			execution_failure_criteria
		</term>
		<listitem>
		<para>Cette variable est utilisée pour péciser les critères qui déterminent quand
l'hôte dépendant ne doit <emphasis>pas</emphasis> être contrôlé
activement. Si l'hôte <emphasis>maître</emphasis> est dans un état d'erreur
que nous précisons, l'hôte <emphasis>dépendant</emphasis> ne sera pas
contrôlé activement. Les options valides sont une combinaison d'un ou de
plusieurs des état suivants (les options multiples sont séparées par des
virgules).
		<itemizedlist>
		<listitem><para><emphasis role="bold">o</emphasis> = erreur sur un état UP</para></listitem>
		<listitem><para><emphasis role="bold">d</emphasis> = erreur sur un état DOWN</para></listitem>
		<listitem><para><emphasis role="bold">u</emphasis> = erreur sur un état UNREACHABLE</para></listitem>
		<listitem><para><emphasis role="bold">p</emphasis> = erreur sur un état d'attente (par
exemple l'hôte n'a pas encore été contrôlé)</para></listitem>
		<listitem><para><emphasis role="bold">n</emphasis> (none) : la dépendance d'exécution
n'échouera jamais et les contrôles de l'hôte dépendant seront toujours faits
activement (si d'autres conditions permettent de le faire).</para></listitem>
		</itemizedlist>
        <informalexample><para>Si vous précisez <emphasis role="bold">u,d</emphasis> dans ce champ,
l'hôte <emphasis>dépendant</emphasis> ne sera pas contrôlé activement si
l'hôte <emphasis>maître</emphasis> est dans un des états UNREACHABLE ou
DOWN.
		</para></informalexample>
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_failure_criteria
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les critères qui déterminent quand
les notifications pour l'hôte dépendant ne doivent <emphasis>pas</emphasis>
être envoyées. Si l'hôte <emphasis>maître</emphasis> est dans un des états
d'erreur que nous précisons, les notifications pour l'hôte
<emphasis>dépendant</emphasis> ne seront pas envoyées aux contacts. Les
options valides sont une combinaison d'un ou de plusieurs des état suivants
:
		<itemizedlist>
		<listitem><para><emphasis role="bold">o</emphasis> = erreur sur un état UP</para></listitem>
		<listitem><para><emphasis role="bold">d</emphasis> = erreur sur un état DOWN</para></listitem>
		<listitem><para><emphasis role="bold">u</emphasis> = erreur sur un état UNREACHABLE</para></listitem>
		<listitem><para><emphasis role="bold">p</emphasis> = erreur sur un état d'attente (par
exemple l'hôte n'a pas encore été contrôlé)</para></listitem>
		<listitem><para><emphasis role="bold">n</emphasis> (none) : la dépendance de notification
n'échouera jamais et les notifications de l'hôte dépendant seront toujours
envoyées.</para></listitem>
		</itemizedlist>
		<informalexample><para>Si vous précisez <emphasis role="bold">d</emphasis> dans ce champ, les
notifications pour l'hôte <emphasis>dépendant</emphasis> ne seront pas
envoyées quand l'hôte <emphasis>maître</emphasis> est dans un état DOWN.</para></informalexample>
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_failure_criteria
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court d'une <link
linkend="configuringnagios-objectdefinitions-timeperiod">période de
temps</link> pendant laquelle les dépendances sont valides. Si cette
variable est vide, les dépendances seront considérées comme valides tout le
temps.</para>
		</listitem>
	</varlistentry>
	</variablelist>

   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-hostescalation" />Définition
d'escalade d'hôte</title>

   <section>
    <title>Description</title>

    <para>Les escalades d'hôtes sont complètement optionnelles et sont utilisées pour
escalader les notifications d'un hôte particulier. Plus d'informations sur
le fonctionnement des escalades peut être trouvé <link
linkend="advancedtopics-escalations">ici</link>.</para>
   </section>

   <section>
    <title>Format de la définition</title>

    <note>
     <para>Les variables en rouge sont requises alors que celles en noir sont
optionnelles.</para>
    </note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define hostescalation{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>hostgroup_name</para></entry>
        <entry><para><emphasis>hostgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>contacts</para></entry>
        <entry><para><emphasis>contacts</emphasis></para></entry>
       </row>

       <row>
        <entry><para>contact_groups</para></entry>
        <entry><para><emphasis>contactgroup_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>first_notification</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>last_notification</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>notification_interval</para></entry>
        <entry><para>#</para></entry>
       </row>

       <row>
        <entry><para>escalation_period</para></entry>
        <entry><para>timeperiod_name</para></entry>
       </row>

       <row>
        <entry><para>escalation_options</para></entry>
        <entry><para>[d,u,r]</para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>
define hostescalation{
    host_name        router-34
    first_notification   5
    last_notification    8
    notification_interval  60
    contact_groups     all-router-admins
}
	</programlisting>
   </section>

   <section>
    <title>Description des variables</title>

	<variablelist>
	<varlistentry>
		<term>
			host_name
		</term>
		<listitem>
		<para>La variable est utilisée pour identifer le <emphasis>nom court</emphasis> de
<link linkend="configuringnagios-objectdefinitions-host">hôte</link> pour
lesquel l'escalade doit s'appliquer.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			hostgroup_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier le(s) <emphasis>nom(s)
court(s)</emphasis> des <link
linkend="configuringnagios-objectdefinitions-hostgroup">groupe(s)
d'hôtes</link> aqeules doit s'appliquer cette escalade. Plusieurs groupes
d'hôte speuvent être séparés par des virgules. Si utilisé, l'escalade
s'appliquera à tous les hôtes membres des groupes d'hôtes spécifiés.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			first_notification
		</term>
		<listitem>
		<para>Cette variable est un nombre identifiant la <emphasis>première</emphasis>
notification pour laquelle l'esacalade est effective. Par exemple, si vous
mettez cette valeur à 3, cette esacalade sera seulement utilisée si l'hôte
est dans un état non-OK depuis suffisamment longtemps pour qu'une troisième
notification soit envoyée.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			last_notification
		</term>
		<listitem>
		<para>Cette variable est un nombre identifiant la <emphasis>dernière</emphasis>
notification pour laquelle l'escalade est effective. Par exemple, si vous
mettez cette valeur à 5, cette escalade ne sera pas utilisée si plus de cinq
notifications ont été envoyées pour l'hôte. Mettre cette valeur à 0 précise
de continuer à utiliser cette escalade sans fin (peu importe le nombre de
notifications envoyées).</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contacts
		</term>
		<listitem>
		<para>Cette une liste de <emphasis>noms courts</emphasis> de <link
linkend="configuringnagios-objectdefinitions-contact">contacts</link> à
notifier à chaque fois qu'il y a des problèmes (ou des retours à la normale)
avec cet hôte. Plusieurs contacts peuvent être précisés en les séparant par
des virgules. Utile si vous souhaitez envoyer des notifications vers
quelques personnes et que vous ne souhaitez pas configurer des <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link>. Vous devez préciser au moins un contact ou un groupe de
contacts dans chaque définition d'escalade d'hôte.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			contact_groups
		</term>
		<listitem>
		<para>Cette une liste de <emphasis>noms courts</emphasis> de <link
linkend="configuringnagios-objectdefinitions-contactgroup">groupes de
contacts</link> à notifier à chaque escalade de l'hôte. Plusieurs groupes de
contacts peuvent être précisés en les séparant par des virgules. Vous devez
préciser au moins un contact ou un groupe de contacts dans chaque définition
d'escalade d'hôte.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notification_interval
		</term>
		<listitem>
		<para>Cette variable est utilisée pour déterminer l'intervalle auquel envoyer les
notifications pendant que l'escalade est valide. Si vous précisez une valeur
de 0 pour cet intervalle, Nagios va envoyer la première notification quand
la définition d'escalade est valide mais prendra soin de ne plus envoyer
aucune notification de problème pour l'hôte. Les notification sont renvoyés
quand l'hôte revient à la normale. Utile si vous souhaitez arrêter l'envoi
des notifications après un certain temps.</para>
		<note><para>Si de multiples entrées d'escalade pour un hôte se chevauchent sur une ou
plusieurs plages de notificitions, le plus petit des intervalles de
notification pour toutes les escalades sera utilisé.</para></note>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			escalation_period
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser le nom court d'une <link
linkend="configuringnagios-objectdefinitions-timeperiod">période de
temps</link> pendant laquelle les escalades sont valides. Si cette variable
est vide, les escalades seront considérées comme valides tout le temps.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			escalation_options
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les critères qui déterminent si une
escalade d'hôte doit être utilisée. L'escalade est seulement utilisée si
l'hôte est dans un des états précisés dans cette variable. Si cette variable
n'est pas précisée dans la définition d'escalade d'un hôte, l'escalade est
considérée comme valide pendant l'ensemble des états du service. Les options
valides osnt une combinaison de l'un ou de plusieurs de ces états :
		<itemizedlist>
		<listitem><para><emphasis role="bold">r</emphasis> = escalade sur un état UP (retour à la
normale)</para></listitem>
		<listitem><para><emphasis role="bold">d</emphasis> = escalade sur un état DOWN</para></listitem>
		<listitem><para><emphasis role="bold">u</emphasis> = escalade sur un état UNREACHABLE</para></listitem>
		</itemizedlist>
		<informalexample>
		<para>
		Si vous précisez <emphasis role="bold">d</emphasis> dans ce champ,
l'escalade sera seulement utilisée quand l'hôte est dans un état DOWN.
		</para>
		</informalexample>
        </para>
		</listitem>
	</varlistentry>
	</variablelist>

   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-hostextinfo" />Définition
des informations étendues d'hôtes</title>

   <section>
    <title>Description</title>

    <para>Les entrées d'informations étendues d'hôtes sont utilisées à la base pour
améliorer les vues des &acronym-cgi;s <link
linkend="thebasics-cgis-status_cgi">status</link>, <link
linkend="thebasics-cgis-statusmap_cgi">statusmap</link>, <link
linkend="thebasics-cgis-statuswrl_cgi">statuswrl</link> et <link
linkend="thebasics-cgis-extinfo_cgi">extinfo</link>. Elles n'ont aucun effet
sur la supervision et sont complètement optionnelles.</para>

    <tip>
     <para>Depuis Nagios 3.x, toutes les variables contenues dans les définitions
d'informations étendues d'hôte sont aussi disponibles dans les <link
linkend="configuringnagios-objectdefinitions-host">définitions
d'hôtes</link>. Vous pouvez choisir de définir ces variables sous vos
définitions d'hôtes si cela rend votre configuration plus simple. Des
définitions d'informations étendues d'hôte séparées continueront à être
supportées pour conserver la compatibilité avec les anciennes versions.</para>
    </tip>
   </section>

   <section>
    <title>Format de la définition</title>

    <note><para>Les variables en rouge sont obligatoires alors que celles en noires sont
optionnelles. Cependant, vous devez au moins préciser une variable
optionnelle dans chaque définition pour que ce soit d'une quelconque
utilité.</para></note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define hostextinfo{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes</para></entry>
        <entry><para><emphasis>note_string</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>action_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>icon_image</para></entry>
        <entry><para><emphasis>image_file</emphasis></para></entry>
       </row>

       <row>
        <entry><para>icon_image_alt</para></entry>
        <entry><para><emphasis>alt_string</emphasis></para></entry>
       </row>

       <row>
        <entry><para>vrml_image</para></entry>
        <entry><para><emphasis>image_file</emphasis></para></entry>
       </row>

       <row>
        <entry><para>statusmap_image</para></entry>
        <entry><para><emphasis>image_file</emphasis></para></entry>
       </row>

       <row>
        <entry><para>2d_coords</para></entry>
        <entry><para><emphasis>x_coord,y_coord</emphasis></para></entry>
       </row>

       <row>
        <entry><para>3d_coords</para></entry>
        <entry><para><emphasis>x_coord,y_coord,z_coord</emphasis></para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition :</title>

    <programlisting>
define hostextinfo{
    host_name    netware1
    notes      This is the primary Netware file server
    notes_url    http://webserver.localhost.localdomain/hostinfo.pl?host=netware1
    icon_image   novell40.png
    icon_image_alt IntranetWare 4.11
    vrml_image   novell40.png
    statusmap_image novell40.gd2
    2d_coords    100,250
    3d_coords    100.0,50.0,75.0
}
	</programlisting>
   </section>

   <section>
    <title>Descriptions de variable</title>

	<variablelist>
	<varlistentry>
		<term>
			host_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier le <emphasis>nom
court</emphasis> de l'<link
linkend="configuringnagios-objectdefinitions-host">hôte</link> auquel
associées les données.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser une note d'information à rattacher
à l'hôte. Si vous avez précisée une note ici, vous la verrez dans le &acronym-cgi;
<link linkend="thebasics-cgis-extinfo_cgi">des informations étendues</link>
(quand vous regardez les informations d'un hôte spécifié).</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
informations supplémentaires sur l'hôte. Si vous précisez une URL, vous
verrez un lien indiquant <quote><guimenu>Extra Host Notes</guimenu></quote>
dans le &acronym-cgi; <link linkend="thebasics-cgis-extinfo_cgi">extended
information</link> (quand vous regardez les informations de
l'hôte). N'importe quelle URL valide peut être utilisé. Si vous pensez
utiliser des chemins relatifs, le chemin de base sera le même que celui
utilisé pour accéder aux &acronym-cgi;s (par exemple
<emphasis>/cgi-bin/nagios/</emphasis>). Peut être utile si vous souhaitez
mettre à disposition d'autres équipes de support les informations détaillées
d'un hôte, les moyens de contacts à utiliser en cas d'urgence, etc.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			action_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
actions supplémentaires sur l'hôte. Si vous précisez une URL, vous verrez un
lien indiquant <quote><guimenu>Extra Host Actions</guimenu></quote> dans le
&acronym-cgi; <link linkend="thebasics-cgis-extinfo_cgi">extended information</link>
(quand vous regardez les informations de l'hôte). N'importe quelle URL
valide peut être utilisé. Si vous pensez utiliser des chemins relatifs, le
chemin de base sera le même que celui utilisé pour accéder aux &acronym-cgi;s (par
exemple <emphasis>/cgi-bin/nagios/</emphasis>).</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			icon_image
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nom d'une image au format GIF,
PNG ou JPG à associer à cet hôte. Cette image sera affichée dans les &acronym-cgi;s
<link linkend="thebasics-cgis-status_cgi">status</link> et <link
linkend="thebasics-cgis-extinfo_cgi">extended information</link>. Le rendu
de l'image sera maximal si celle-ci est au format 40x40 pixels. Les images
des hôtes sont censées se trouver dans le sous-répertoire <emphasis
role="strong">logos/</emphasis> de votre dossier d'images HTML (par exemple
<filename
class="directory">/usr/local/nagios/share/images/logos</filename>).
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			icon_image_alt
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une chaîne de caractère optionnelle
à utiliser dans l'attribut ALT de l'image précisée par l'argument
<emphasis>&lt;icon_image&gt;</emphasis>. L'attribut ALT peut être utilisé
dans les &acronym-cgi;s <link linkend="thebasics-cgis-status_cgi">status</link>, <link
linkend="thebasics-cgis-extinfo_cgi">extended information</link> et <link
linkend="thebasics-cgis-statusmap_cgi">statusmap</link>.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			vrml_image
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nom d'une image au format GIF,
PNG ou JPG à associer à cet hôte. Cette image sera utilisée comme fond de
carte pour l'hôte spécifié dans le &acronym-cgi; <link
linkend="thebasics-cgis-statuswrl_cgi">statuswrl</link>. Au contraire de
l'image utilisée dans la variable <emphasis>&lt;icon_image&gt;</emphasis>,
celle-ci ne devrait <emphasis>pas</emphasis> avoir d'attribut de
transparence. Si c'est le cas, le rendu de l'hôte sera un peu bizarre. Les
images des hôtes sont censées se trouver dans le sous-répertoire <emphasis
role="strong">logos/</emphasis> de votre dossier d'images HTML (par exemple
<filename
class="directory">/usr/local/nagios/share/images/logos</filename>).
		</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			statusmap_image
		</term>
		<listitem>
		<para>Cette variable est utlisée pour définir le nom d'une image à associer à
l'hôte dans le &acronym-cgi; <link
linkend="thebasics-cgis-statusmap_cgi">statusmap</link>. Vous pouvez
utiliser une image au format JPEG, PNG ou GIF si vous voulez, mais je vous
recommande vivement d'utiliser le format d'image GD2 pour ne pas perdre de
temps &acronym-cpu; en calcul (comme c'est le cas avec les autres formats) quand vous
générez la carte d'états. Les images GD2 peuvent être créées à partir
d'image PNG en utilisant l'utilitaire <emphasis
role="bold">pngtogd2</emphasis> fourni avec la <ulink
url="&url-gd;">librairie gd</ulink> de Thomas Boutell. Les images au format
GD2 doivent être créées dans un format <emphasis>non compressé</emphasis>
toujours pour minimiser la charge &acronym-cpu; au moment de charger la carte
réseau. Le rendu d el'image sera maximal si vous utilisez une taille de
40x40 pixels. Vous pouvez laisser cette option vide si vous n'utilisez pas
le &acronym-cgi; de carte d'états. Les images des hôtes sont censées se trouver dans
le sous-répertoire <emphasis role="bold">logos/</emphasis> de votre
dossier d'images HTML (par exemple <filename
class="directory">/usr/local/nagios/share/images/logos</filename>).
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			2d_coords
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les coordonnées à utiliser pour
l'hôte dans le &acronym-cgi; <link
linkend="thebasics-cgis-statusmap_cgi">statusmap</link>. Les coordonnées
doivent être données en entier positif car correpsondant aux pixels dans
l'image générée. Le départ de la carte (0,0) se trouve dans le coin
supérieur gauche de l'image et s'étend en positif dans la direction x (à
droite) à partir du haut de l'image et en positif dans la direction y (bas)
à partir du bord gauche de l'image. Pour référence, la taille des icônes es
thabituellement de 40x40 pixels (le texte prend un peu d'espace
supplémentaire). Les coordonnées que vous précisez ici sont pour le coin
supérieur gauche de l'icône de l'hôte à dessiner.</para>
		<note><para>Ne vous inquiétez du nombre maximal de coordonnées que vous pouvez utliser
ici. Le &acronym-cgi; va automatiquement calculer les dimensions maximales de l'image
qu'il créée en se basant sur les plus grandes valeurs x et y que vous avez
précisé.
        </para></note>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			3d_coords
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir les coordonnées de l'hôte à
utiliser dans le &acronym-cgi; <link
linkend="thebasics-cgis-statuswrl_cgi">statuswrl</link>. Les coordonnées
peuvent être des nombres positifs ou négatifs. Le départ du dessin est
(0.0,0.0,0.0). Pour référence, la taille des cubes pour les hôtes est de 0,5
unités de chaque côté (les textes rennent un plus d'espace). Les coordonnées
que vous utilisez sont le centre du cube de l'hôte.</para>
		</listitem>
	</varlistentry>
	</variablelist>
	
   </section>
  </section>

  <section>
   <title><anchor id="configuringnagios-objectdefinitions-serviceextinfo" />Définition
des informations étendues de services</title>

   <section>
    <title>Description</title>

    <para>Les entrées d'informations étendues de services sont utilisées à la base
pour améliorer les vues des &acronym-cgi;s <link
linkend="thebasics-cgis-status_cgi">status</link> et <link
linkend="thebasics-cgis-extinfo_cgi">extinfo</link>. Elles n'ont aucun effet
sur la supervision et sont complètement optionnelles.</para>

    <tip>
     <para>Depuis Nagios 3.x, toutes les variables contenues dans les définitions
d'informations étendues de service sont aussi disponibles dans les <link
linkend="configuringnagios-objectdefinitions-service">définitions de
services</link>. Vous pouvez choisir de définir ces variables sous vos
définitions de services si cela rend votre configuration plus simple. Des
définitions d'informations étendues de service séparées continueront à être
supportées pour conserver la compatibilité avec les anciennes versions.</para>
    </tip>
   </section>

   <section>
    <title>Format de la définition</title>

    <note><para>Les variables en rouge sont obligatoires alors que celles en noires sont
optionnelles. Cependant, vous devez au moins préciser une variable
optionnelle dans chaque définition pour que ce soit d'une quelconque
utilité.</para></note>

    <informaltable frame="none">
     <tgroup cols="2">
      <colspec colname="col_1" />
      <colspec colname="col_2" />

      <tbody>
       <row>
        <entry><para>define serviceextinfo{</para></entry>
        <entry></entry>
       </row>

       <row>
        <entry><para>host_name</para></entry>
        <entry><para><emphasis>host_name</emphasis></para></entry>
       </row>

       <row>
        <entry><para>service_description</para></entry>
        <entry><para><emphasis>service_description</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes</para></entry>
        <entry><para><emphasis>note_string</emphasis></para></entry>
       </row>

       <row>
        <entry><para>notes_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>action_url</para></entry>
        <entry><para><emphasis>url</emphasis></para></entry>
       </row>

       <row>
        <entry><para>icon_image</para></entry>
        <entry><para><emphasis>image_file</emphasis></para></entry>
       </row>

       <row>
        <entry><para>icon_image_alt</para></entry>
        <entry><para><emphasis>alt_string</emphasis></para></entry>
       </row>

       <row>
        <entry nameend="col_2" namest="col_1"><para>}</para></entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </section>

   <section>
    <title>Exemple de définition</title>

    <programlisting>
define serviceextinfo{
    host_name        linux2
    service_description   Log Anomalies
    notes          Security-related log anomalies on secondary Linux server
    notes_url        http://webserver.localhost.localdomain/serviceinfo.pl?host=linux2&amp;service=Log+Anomalies
    icon_image       security.png
    icon_image_alt     Security-Related Alerts
}
	</programlisting>
   </section>

   <section>
    <title>Descriptions de variable</title>

	<variablelist>
	<varlistentry>
		<term>
			host_name
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier le <emphasis>nom
court</emphasis> du <link
linkend="configuringnagios-objectdefinitions-service">service</link> auquel
associées les données.
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			service_description
		</term>
		<listitem>
		<para>Cette variable est utilisée pour identifier le <emphasis>nom
court</emphasis> du <link
linkend="configuringnagios-objectdefinitions-service">service</link> auquel
associées les données.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes
		</term>
		<listitem>
		<para>Cette variable est utilisée pour préciser une note d'information à rattacher
au service. Si vous avez précisée une note ici, vous la verrez dans le &acronym-cgi;
<link linkend="thebasics-cgis-extinfo_cgi">des informations étendues</link>
(quand vous regardez les informations de service spécifié).</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			notes_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
informations supplémentaires sur le service. Si vous précisez une URL, vous
verrez un lien indiquant <quote><guimenu>Extra Service
Notes</guimenu></quote> dans le &acronym-cgi; <link
linkend="thebasics-cgis-extinfo_cgi">extended information</link> (quand vous
regardez les informations du service). N'importe quelle URL valide peut être
utilisé. Si vous pensez utiliser des chemins relatifs, le chemin de base
sera le même que celui utilisé pour accéder aux &acronym-cgi;s (par exemple
<emphasis>/cgi-bin/nagios/</emphasis>). Peut être utile si vous souhaitez
mettre à disposition d'autres équipes de support les informations détaillées
d'un hôte, les moyens de contacts à utiliser en cas d'urgence, etc.</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			action_url
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une URL optionnelle fournissant des
actions supplémentaires sur le service. Si vous précisez une URL, vous
verrez un lien indiquant <quote><guimenu>Extra Service
Actions</guimenu></quote> dans le &acronym-cgi; <link
linkend="thebasics-cgis-extinfo_cgi">extended information</link> (quand vous
regardez les informations du service). N'importe quelle URL valide peut être
utilisé. Si vous pensez utiliser des chemins relatifs, le chemin de base
sera le même que celui utilisé pour accéder aux &acronym-cgi;s (par exemple
<emphasis>/cgi-bin/nagios/</emphasis>).</para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			icon_image
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir le nom d'une image au format GIF,
PNG ou JPG à associer à l'hôte. Cette image sera affichée dans plusieurs
endroits des &acronym-cgi;s. Le rendu de l'image sera maximal si celle-ci est au
format 40x40 pixels. Les images des hôtes sont censées se trouver dans le
sous-répertoire <emphasis role="bold">logos/</emphasis> de votre dossier
d'images HTML (par exemple <filename
class="directory">/usr/local/nagios/share/images/logos</filename>).
        </para>
		</listitem>
	</varlistentry>
	<varlistentry>
		<term>
			icon_image_alt
		</term>
		<listitem>
		<para>Cette variable est utilisée pour définir une chaîne de caractère optionnelle
à utiliser dans l'attribut ALT de l'image précisée par l'argument
<emphasis>&lt;icon_image&gt;</emphasis>. L'attribut ALT peut être utilisé
dans les &acronym-cgi;s <link linkend="thebasics-cgis-status_cgi">status</link>, <link
linkend="thebasics-cgis-extinfo_cgi">extended information</link> et <link
linkend="thebasics-cgis-statusmap_cgi">statusmap</link>.</para>
		</listitem>
	</varlistentry>
	</variablelist>
   </section>
  </section>
 </section>
</chapter>

