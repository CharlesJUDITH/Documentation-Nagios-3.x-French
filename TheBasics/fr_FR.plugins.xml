<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd"
[
  <!ENTITY % all.entities SYSTEM "../all-entities.ent">
  %all.entities;
]
>
<chapter id="thebasics-plugins" xreflabel="Nagios Plugins">
  <title>Nagios Plugins</title>

  <section>
    <title>Introduction</title>

    <para>Unlike many other monitoring tools, Nagios does not include any internal 
mechanisms for checking the status of hosts and services on your 
network. Instead, Nagios relies on external programs (called plugins) to do 
all the dirty work.</para>
  </section>

  <section>
    <title>What Are Plugins?</title>

    <para>Plugins are compiled executables or scripts (Perl scripts, shell scripts, 
etc.) that can be run from a command line to check the status or a host or 
service. Nagios uses the results from plugins to determine the current 
status of hosts and services on your network.</para>

    <para>Nagios will execute a plugin whenever there is a need to check the status of 
a service or host. The plugin does something (notice the very general term) 
to perform the check and then simply returns the results to Nagios. Nagios 
will process the results that it receives from the plugin and take any 
necessary actions (running <link 
linkend="advancedtopics-eventhandlers">event handlers</link>, sending out 
<link linkend="thebasics-notifications">notifications</link>, etc).</para>
  </section>

  <section>
    <title>Plugins As An Abstraction Layer</title>

    <para><informalfigure>
	<mediaobject>
        <imageobject>
          <imagedata fileref="images/plugins.png" format="PNG"/>
        </imageobject>
      </mediaobject></informalfigure>Plugins act as an abstraction layer between the monitoring logic present in 
the Nagios daemon and the actual services and hosts that are being 
monitored.</para>

    <para>The upside of this type of plugin architecture is that you can monitor just 
about anything you can think of. If you can automate the process of checking 
something, you can monitor it with Nagios. There are already a lot of 
plugins that have been created in order to monitor basic resources such as 
processor load, disk usage, ping rates, etc. If you want to monitor 
something else, take a look at the documentation on <link 
linkend="development-pluginapi">writing plugins</link> and roll your own.  
Its simple!</para>

    <para>The downside to this type of plugin architecture is the fact that Nagios has 
absolutely no idea what it is that you're monitoring. You could be 
monitoring network traffic statistics, data error rates, room temperate, CPU 
voltage, fan speed, processor load, disk space, or the ability of your 
super-fantastic toaster to properly brown your bread in the 
morning... Nagios doesn't understand the specifics of what's being monitored 
- it just tracks changes in the state of those resources. Only the plugins 
themselves know exactly what they're monitoring and how to perform the 
actual checks.</para>
  </section>

  <section>
    <title>What Plugins Are Available?</title>

    <para>There are plugins currently available to monitor many different kinds of 
devices and services, including:</para>

    <itemizedlist>
      <listitem>
        <para>&protocol-http;, &protocol-pop3;, &protocol-imap;, &protocol-ftp;, 
&protocol-ssh;, &protocol-dhcp;</para>
      </listitem>

      <listitem>
        <para>CPU Load, Disk Usage, Memory Usage, Current Users</para>
      </listitem>

      <listitem>
        <para>Unix/Linux, Windows, and Netware Servers</para>
      </listitem>

      <listitem>
        <para>Routers and Switches</para>
      </listitem>

      <listitem>
        <para>etc.</para>
      </listitem>
    </itemizedlist>
  </section>

  <section>
    <title>Obtaining Plugins</title>

    <para>Plugins are not distributed with Nagios, but you can download the official 
Nagios plugins and many additional plugins created and maintained by Nagios 
users from the following locations:</para>

    <itemizedlist>
      <listitem>
        <para>Nagios Plugins Project: <ulink 
url="http://nagiosplug.sourceforge.net/">http://nagiosplug.sourceforge.net/</ulink></para>
      </listitem>

      <listitem>
        <para>Nagios Downloads Page: <ulink 
url="&url-nagios;download/">&url-nagios;download/</ulink></para>
      </listitem>

      <listitem>
        <para>NagiosExchange.org: <ulink 
url="&url-nagiosexchange;/">&url-nagiosexchange;/</ulink></para>
      </listitem>
    </itemizedlist>
  </section>

  <section>
    <title>How Do I Use Plugin X?</title>

    <para>Most all plugins will display basic usage information when you execute them 
using <option>-h</option> or <option>--help</option> on the command line. For example, if you want to know how the 
<command>check_http</command> plugin works or what options it accepts, you 
should try executing the following command: <command>./check_http 
--help</command></para>
  </section>

  <section>
    <title><anchor id="howto" />Plugin API</title>

    <para>You can find information on the technical aspects of plugins, as well as how 
to go about creating your own custom plugins <link 
linkend="development-pluginapi">here</link>.</para>
  </section>
</chapter>
